{"version":3,"file":"extrator-web.umd.js.map","sources":["ng://extrator-web/lib/services/http-error-handler.service.ts","ng://extrator-web/lib/services/layouts.service.ts","ng://extrator-web/lib/popups/confirmacao-acao.component.ts","ng://extrator-web/lib/list/arquivo-extracao-list.component.ts","ng://extrator-web/lib/models/layout.model.ts","ng://extrator-web/lib/services/lovvals.service.ts","ng://extrator-web/lib/models/layout-field.model.ts","node_modules/tslib/tslib.es6.js","ng://extrator-web/lib/services/tabelas.service.ts","ng://extrator-web/lib/popups/seleciona-tabela.component.ts","ng://extrator-web/lib/models/layout-field-detail.model.ts","ng://extrator-web/lib/popups/confirmacao-item.component.ts","ng://extrator-web/lib/models/sort.model.ts","ng://extrator-web/lib/models/criterio.model.ts","ng://extrator-web/lib/popups/sort-detail.component.ts","ng://extrator-web/lib/popups/criterio-detail.component.ts","ng://extrator-web/lib/services/colunas.service.ts","ng://extrator-web/lib/editor/arquivo-extracao-edit.component.ts","ng://extrator-web/lib/directives/sortable.directive.ts","ng://extrator-web/lib/services/pdf.service.ts","ng://extrator-web/lib/services/previa.service.ts","ng://extrator-web/lib/previa/previa-arquivo-extracao.component.ts","ng://extrator-web/environments/release.ts","ng://extrator-web/lib/extrator-web.component.ts","ng://extrator-web/environments/services.ts","ng://extrator-web/environments/environment.ts","ng://extrator-web/lib/interceptors/project.config.resolver.ts","ng://extrator-web/lib/extrator-web-routing.module.ts","ng://extrator-web/lib/util/missingTranslationHandler.ts","ng://extrator-web/lib/popups/seleciona-funcao.component.ts","ng://extrator-web/lib/popups/campotabela.component.ts","ng://extrator-web/lib/util/LovItemDescriptionPipe.ts","ng://extrator-web/lib/models/campo.model.ts","ng://extrator-web/lib/popups/seleciona-coluna.component.ts","ng://extrator-web/lib/interceptors/jwt.interceptor.ts","ng://extrator-web/lib/interceptors/package-url.interceptor.ts","ng://extrator-web/lib/interceptors/ppw.interceptor.provider.ts","ng://extrator-web/lib/extrator-web.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\nimport { Observable, of } from 'rxjs';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n/** Type of the handleError function returned by HttpErrorHandler.createHandleError */\r\nexport type HandleError =\r\n  <T> (operation?: string, result?: T) => (error: HttpErrorResponse) => Observable<T>;\r\n\r\n/** Handles HttpClient errors */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HttpErrorHandler {\r\n  constructor(private toastr: ToastrService) { }\r\n\r\n  /** Create curried handleError function that already knows the service name */\r\n  createHandleError = (serviceName = '') => <T>\r\n    (operation = 'operation', result = {} as T) => this.handleError(serviceName, operation, result);\r\n\r\n  /**\r\n   * Returns a function that handles Http operation failures.\r\n   * This error handler lets the app continue to run as if no error occurred.\r\n   * @param serviceName = name of the data service that attempted the operation\r\n   * @param operation - name of the operation that failed\r\n   * @param result - optional value to return as the observable result\r\n   */\r\n  handleError<T> (resourceType = '', operation = 'operation', result = {} as T) {\r\n\r\n    return (error: HttpErrorResponse): Observable<T> => {\r\n      // TODO: send the error to remote logging infrastructure\r\n      //console.error(error); // log to console instead\r\n\r\n      if (error.status == 204){\r\n        console.error(`server returned code ${error.status} with body \"${error.error}\"`); // log to console instead\r\n        this.toastr.error(`Recurso ${resourceType} não encontrado na base. [${error.status}]`, \"CyberMessenger\");\r\n      }else{\r\n        const message = (error.error instanceof ErrorEvent) ?\r\n          error.error.message :\r\n        `server returned code ${error.status} with body \"${error.error}\"`;\r\n        \r\n        console.error(message); // log to console instead\r\n        // TODO: better job of transforming error for user consumption\r\n        this.toastr.error(`${resourceType}: Houve uma falha ao processar a operação ${operation}. [${error.status}]`, \"CyberMessenger\");\r\n      }\r\n      // Let the app keep running by returning a safe result.\r\n      return of( result );\r\n    };\r\n\r\n  }\r\n}\r\n\r\n\r\n/*\r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at http://angular.io/license\r\n*/","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { LayoutSearchResult } from '../models/search-result.model';\r\nimport { TemplateState } from '../models/state.model';\r\n//import { Observable, of } from 'rxjs';\r\n//import { catchError, map, tap } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable, of, Subject, Subscription } from 'rxjs';\r\nimport { catchError, debounceTime, delay, switchMap, tap, take, finalize } from 'rxjs/operators';\r\n\r\nimport { Layout } from '../models/layout.model';\r\nimport { Campo } from '../models/campo.model';\r\n\r\nimport { SortDirection } from '../directives/sortable.directive';\r\nimport { HttpErrorHandler, HandleError } from './http-error-handler.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Template } from '../models/template.model';\r\nimport { LayoutField } from '../models/layout-field.model';\r\n\r\n\r\n\r\n\r\nfunction compare(v1, v2) {\r\n  return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n}\r\n\r\nfunction matches(obj: any, text: string) {\r\n  const term = text.toUpperCase();\r\n  let item: Template = obj as Template;\r\n  return item.templateId.toUpperCase().includes(term);\r\n}\r\n\r\nfunction fullMatch(value: any, idExportacao: string, grupo: string) {\r\n  let item: Layout = value as Layout;\r\n  return (item.idExportacao === idExportacao && item.grupo === grupo);\r\n}\r\n\r\nfunction validItemB(value: any, idExportacao: string, grupo: string) {\r\n  let item: Layout = value as Layout;\r\n  if (item.idExportacao.includes(idExportacao)) {\r\n    if (item.grupo.includes(grupo)) {\r\n      return item\r\n    }\r\n  }\r\n  return (item.idExportacao === idExportacao && item.grupo === grupo)\r\n\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LayoutsService {\r\n\r\n  private handleError: HandleError;\r\n  //private _backendPackage: string = \"extratorWeb\";\r\n  //private backendEndpoint: string = `/${this.backendPackage}/api/v9/`;\r\n\r\n  private originalCopy: Layout = null;\r\n  private templateItem: Layout = null;\r\n\r\n  private listaArquivos: Template[] = [];\r\n\r\n\r\n  private _search$ = new Subject<void>();\r\n  private _loading$ = new BehaviorSubject<boolean>(false);\r\n  private _arquivos$ = new BehaviorSubject<Template[]>([]);\r\n  private _total$ = new BehaviorSubject<number>(0);\r\n  private _template$ = new BehaviorSubject<Layout>(null);\r\n\r\n  private _exportId$ = new BehaviorSubject<string>(\"\");\r\n  private _regId$ = new BehaviorSubject<string>(\"\");\r\n  private _serviceName = \"Layout\";\r\n\r\n  private arquivosSubs: Subscription;\r\n\r\n  private _state: TemplateState = {\r\n    page: 1,\r\n    pageSize: 10,\r\n    registro: '',\r\n    searchTerm: '',\r\n    criteriosSortColumn: '',\r\n    criteriosSortDirection: '',\r\n    ordemSortColumn: '',\r\n    ordemSortDirection: '',\r\n    camposSortColumn: '',\r\n    camposSortDirection: '',\r\n    headersSortColumn: '',\r\n    headersSortDirection: '',\r\n    traillersSortColumn: '',\r\n    traillersSortDirection: ''\r\n  };\r\n\r\n  private static opcoesRegistro: Array<string> = [\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"];\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private httpErrorHandler: HttpErrorHandler,\r\n    private toastr: ToastrService) {\r\n\r\n    this.handleError = httpErrorHandler.createHandleError(this._serviceName);\r\n    //this._arquivos$.next([]);\r\n    this._search$.pipe(\r\n      tap(() => this._loading$.next(true)),\r\n      debounceTime(200),\r\n      switchMap(() => this._search()),\r\n      delay(200),\r\n      tap(() => this._loading$.next(false))\r\n    ).subscribe(result => {\r\n      this._arquivos$.next(result.templates);\r\n      this._total$.next(result.total);\r\n    });\r\n    //this.load();\r\n  }\r\n\r\n  get loading$() { return this._loading$.asObservable(); }\r\n  get template$() { return this._template$.asObservable(); }\r\n  get arquivos$() { return this._arquivos$.asObservable(); }\r\n  //get registros$() { return this._registros$.asObservable(); }\r\n  get total$() { return this._total$.asObservable(); }\r\n  get exportId$() { return this._exportId$.asObservable(); }\r\n  get regId$() { return this._regId$.asObservable(); }\r\n  get page() { return this._state.page; }\r\n  get pageSize() { return this._state.pageSize; }\r\n  get searchTerm() { return this._state.searchTerm; }\r\n  get registro() { return this._state.registro; }\r\n\r\n  set page(page: number) { this._set({ page }); }\r\n  set pageSize(pageSize: number) { this._set({ pageSize }); }\r\n  set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\r\n  set registro(registro: string) { this._set({ registro }); }\r\n\r\n  set criteriosSortColumn(criteriosSortColumn: string) { this._set({ criteriosSortColumn }); }\r\n  set ordemSortColumn(ordemSortColumn: string) { this._set({ ordemSortColumn }); }\r\n  set camposSortColumn(camposSortColumn: string) { this._set({ camposSortColumn }); }\r\n  set headersSortColumn(headersSortColumn: string) { this._set({ headersSortColumn }); }\r\n  set traillersSortColumn(traillersSortColumn: string) { this._set({ traillersSortColumn }); }\r\n  set criteriosSortDirection(criteriosSortDirection: SortDirection) { this._set({ criteriosSortDirection }); }\r\n  set ordemSortDirection(ordemSortDirection: SortDirection) { this._set({ ordemSortDirection }); }\r\n  set camposSortDirection(camposSortDirection: SortDirection) { this._set({ camposSortDirection }); }\r\n  set headersSortDirection(headersSortDirection: SortDirection) { this._set({ headersSortDirection }); }\r\n  set traillersSortDirection(traillersSortDirection: SortDirection) { this._set({ traillersSortDirection }); }\r\n\r\n  private _set(patch: Partial<TemplateState>) {\r\n    Object.assign(this._state, patch);\r\n    this._search$.next();\r\n  }\r\n\r\n  private _search(): Observable<LayoutSearchResult> {\r\n    //const { pageSize, page, searchTerm } = this._state;\r\n    const { searchTerm } = this._state;\r\n\r\n    // 1. sort\r\n    //let arquivos = sort(this.listaArquivos, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    //let registros = this.listaRegistros.filter(item => matches(item, searchTerm));\r\n    let templates = this.listaArquivos;\r\n    templates = templates.filter(item => matches(item, searchTerm));\r\n    const total = templates.length;\r\n\r\n    // 3. paginate\r\n    //templates = templates.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\r\n\r\n    //this.messageService.add(\"success\", this._serviceName + \": Lista de items selecionados\");\r\n\r\n    return of({ templates, total });\r\n\r\n  }\r\n\r\n  getResourceName(): string {\r\n    return 'external-extrator-web';\r\n  }\r\n\r\n  load(){\r\n    this.buscarArquivos().subscribe(arquivos => {\r\n      this.listaArquivos = arquivos;\r\n      this._arquivos$.next(arquivos);\r\n      this._search$.next();\r\n    });\r\n  }\r\n\r\n  validItem(exportid: string, registro: string) {\r\n    let items = this.listaArquivos.filter(item =>\r\n      item.registros.filter((regItem) => validItemB(regItem, exportid, registro)));\r\n    return items.length;\r\n  }\r\n\r\n  selectItem(exportid: string, registro: string): Observable<Template> {\r\n    if (exportid === null || registro === null) return of(null);\r\n    let items = this.listaArquivos.filter(item =>\r\n      item.registros.filter((regItem) => fullMatch(regItem, exportid, registro)));\r\n    return of(items[0]);\r\n  }\r\n\r\n  buscarArquivos(): Observable<Template[]> {\r\n  //  buscarArquivos(): void {\r\n    //this.messageService.add(\"info\", this._serviceName + \" Lista de items selecionados\");\r\n    console.log(this._serviceName + \" Lista de items selecionados\");\r\n    return this.reqLayoutItems<Template[]>({ itemType: \"arquivos\", query: [{ \"param\": \"withregs\", \"value\": \"true\" }, { \"param\": \"filterht\", \"value\": \"true\" }] })\r\n      .pipe(\r\n        //tap(_ => console.log(`fetched []${_.length}] items `)),\r\n        catchError(this.handleError<Template[]>('Templates', []))\r\n      );\r\n\r\n  }\r\n\r\n  listarRegistrosDisponiveis(listItems?: Layout[]): Observable<String[]> {\r\n\r\n    console.log(this._serviceName + \" Listar registros disponiveis\");\r\n    if (listItems == null || listItems == undefined)\r\n      return of(LayoutsService.opcoesRegistro);\r\n    let registrosExistentes = [];\r\n    listItems.forEach(value => registrosExistentes.push(value.grupo))\r\n    let result = LayoutsService.opcoesRegistro.filter(item => !registrosExistentes.includes(item));\r\n\r\n    return of(result);\r\n  }\r\n\r\n  buscarRegistros(arquivo?: string): Observable<Layout[]> {\r\n    //this.messageService.add(\"info\", this._serviceName + \" Lista de items selecionados\");\r\n\r\n    console.log(this._serviceName + \" Listar registros\");\r\n\r\n    return this.reqLayoutItems<Layout[]>({ itemType: \"registros\", query: [{ param: \"exportId\", value: arquivo }] })\r\n      .pipe(\r\n        //tap(_ => console.log(`fetched []${_.length}] items `)),\r\n        catchError(this.handleError<Layout[]>('Layouts', []))\r\n      );\r\n\r\n  }\r\n\r\n  buscarColunasRegistro(arquivo: string, regId: string): Observable<Campo[]> {\r\n    console.log(this._serviceName + \" Lista de items selecionados\");\r\n    return this.reqLayoutItems<Campo[]>({ itemType: \"registros\", registro: regId, query: [{ param: \"exportId\", value: arquivo }, { param: \"completo\", value: \"true\" }] })\r\n      /*this.http.get<Campo[]>(`${this.config.getSettings().extratorEndpoint}registros/colunas`)*/\r\n      .pipe(\r\n        //tap(_ => console.log(`fetched []${_.length}] items `)),\r\n        catchError(this.handleError<Campo[]>('Carregar Lista de colunas do registro', []))\r\n      );\r\n  }\r\n\r\n  buscarTemplate(exportid: string, registro: string): Observable<Layout> {\r\n    if (exportid === null || registro === null) {\r\n      console.log(`${this._serviceName}: ERRO - Parametros inválidos [${exportid}/${registro}]`)\r\n      return;\r\n    }\r\n    this._exportId$.next(exportid);\r\n    this._regId$.next(registro);\r\n\r\n    this.reqLayoutItems<Layout>({ itemType: \"templates\", exportId: exportid, registro: registro })\r\n      .pipe(\r\n        //tap(_ => {console.log(`${this._serviceName}: Layout selecionado com código=${_.idExportacao}`)}),\r\n        catchError(this.handleError<Layout>(`Template código=${exportid}`))\r\n      ).subscribe(template => {\r\n        this.templateItem = template[0];\r\n        this.originalCopy = JSON.parse(JSON.stringify(this.templateItem));\r\n        this._template$.next(this.templateItem);\r\n        this._loading$.next(false);\r\n      });\r\n\r\n    return this.template$;\r\n  }\r\n\r\n  getTemplate() {\r\n    if (this._exportId$.getValue() === null || this._regId$.getValue() === null) {\r\n      return;\r\n    } else {\r\n      this.reqLayoutItems<Layout>({ itemType: \"templates\", exportId: this._exportId$.getValue(), registro: this._regId$.getValue() })\r\n        .subscribe(template => {\r\n          this.templateItem = template;\r\n          this.originalCopy = JSON.parse(JSON.stringify(this.templateItem));\r\n          this._template$.next(this.templateItem);\r\n          this._loading$.next(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  /* itemTypes: templates/arquivos/registros/tabelas/colunas \r\n      path params: exportId/registro/tabela\r\n      query params: exportId/registro/tabela/alias/quantidade/withregs/filterht\r\n  */\r\n  private reqLayoutItems<T>({ itemType = \"\", exportId = \"\", registro = \"\", tabela = \"\", query = [] }:\r\n    { itemType?: string; exportId?: string; registro?: string; tabela?: string; query?: Array<{ param: string; value: string }> }): Observable<T> {\r\n\r\n    this._loading$.next(true);\r\n    let typeValue = itemType.trim();\r\n    let reqUrl: string = (typeValue == \"registros\" || typeValue == \"arquivos\" || typeValue == \"templates\" || typeValue == \"tabelas\" || typeValue == \"colunas\") ? typeValue : '';\r\n    reqUrl += (!exportId.trim()) ? '' : `/${exportId}`;\r\n    reqUrl += (!registro.trim()) ? '' : `/${registro}`;\r\n    reqUrl += (!tabela.trim()) ? '' : `/${tabela}`;\r\n    if (query.length > 0) {\r\n      query.forEach((element, index) => {\r\n        reqUrl += ((index == 0) ? '?' : '&').concat(element.param).concat(\"=\").concat(element.value);\r\n      });\r\n    }\r\n\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n\r\n    return this.http.get<T>(`${reqUrl}`)\r\n      .pipe(\r\n        //tap(_ => console.log(`fetched []${_}] items `)),\r\n        finalize(() => this._loading$.next(false)),\r\n        catchError(this.handleError<T>('Request'))\r\n      );\r\n  }\r\n\r\n  rollbackChanges() {\r\n    this.templateItem = this.originalCopy;\r\n    this._template$.next(this.templateItem);\r\n  }\r\n\r\n  salvarTemplate(done): void {\r\n    this._loading$.next(true);\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n\r\n    let retVal: Observable<boolean> = this.http.post<boolean>(`templates`, this.templateItem);\r\n    \r\n    retVal.pipe(\r\n        finalize(() => this._loading$.next(false)),\r\n        tap(changed => {\r\n          if (changed)\r\n            console.log(`${this._serviceName}: Template ${this.templateItem.idExportacao} atualizado com sucesso!`);\r\n          else\r\n            console.log(`Erro ao atualizar template ${this.templateItem.idExportacao} [${changed}]`);\r\n          \r\n        }),\r\n        catchError(this.handleError(`Template cÃ³digo=${this.templateItem.idExportacao}`, false))\r\n      ).subscribe(response => {\r\n        if (response){\r\n          console.log('Registro atualizado com sucesso'); \r\n          let msg = `Template ${this.templateItem.idExportacao}/${this.templateItem.grupo} atualizado com sucesso!`;\r\n          this.toastr.success(msg, \"CyberMessenger\");\r\n        }else{\r\n          let msg = `Erro ao atualizar template  ${this.templateItem.idExportacao}/${this.templateItem.grupo}. Tente novemente!`;\r\n          this.toastr.error(msg, \"CyberMessenger\");  \r\n        }\r\n        done();\r\n      }, error => {\r\n        let msg = `Erro ao atualizar template  ${this.templateItem.idExportacao}/${this.templateItem.grupo}. Tente novemente!`;\r\n        this.toastr.error(msg, \"CyberMessenger\");\r\n        console.log('Erro ao atualizar o registro: ' + error.error.message); \r\n      });\r\n\r\n  }\r\n\r\n  incluirRegistro(exportId: string, registro: string) {\r\n    this._loading$.next(true);\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) }\r\n\r\n    this.http.put<Template>(`arquivos/${exportId}/${registro}`, {})\r\n      .pipe(\r\n        tap((changed) => {\r\n          if (changed) {\r\n            let chgIndex = this.listaArquivos.findIndex(predicate => (predicate.templateId === changed.templateId));\r\n            this.listaArquivos.splice(chgIndex, 1, changed);\r\n            this._arquivos$.next(this.listaArquivos);\r\n            console.log(`registro ${exportId}/${registro} incluído com sucesso`)\r\n            let msg = `Registro ${exportId}/${registro} incluído com sucesso!`;\r\n            this.toastr.success(msg, \"CyberMessenger\");\r\n          } else\r\n            console.log(`Erro ao incluir registro ${exportId}/${registro} [${changed}]`)\r\n        }),\r\n        finalize(() => this._loading$.next(false)),\r\n        catchError(this.handleError('incluirRegistro'))\r\n      )\r\n      .subscribe(_ => console.log('registro incluido com sucesso'));\r\n  }\r\n\r\n  incluirArquivo(exportId: string) {\r\n    this._loading$.next(true);\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n\r\n    this.http.put<Template>(`arquivos/${exportId}`, {})\r\n      .pipe(\r\n        tap((included) => {\r\n          // TODO - incluir arquivo novo na lista\r\n          if (included) {\r\n            this.listaArquivos.push(included);\r\n            this._arquivos$.next(this.listaArquivos);\r\n            console.log(`arquivo id=${exportId} incluído com sucesso`);\r\n            let msg = `Arquivo ${exportId} incluído com sucesso!`;\r\n            this.toastr.success(msg, \"CyberMessenger\");\r\n          } else\r\n            console.log(`Erro ao incluir arquivo ${exportId} [${included}]`)\r\n        }),\r\n        finalize(() => this._loading$.next(false)),\r\n        catchError(this.handleError('incluirArquivo'))\r\n      ).subscribe((value) => console.log('arquivo incluido com sucesso'));\r\n  }\r\n\r\n  putItem(item: Layout, keyName: string): Observable<any> {\r\n    this._loading$.next(true);\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    //return this.http.put(`${item[keyName]}`, item, httpOptions).pipe(\r\n\r\n    return this.http.put<Template>(`arquivos`, item).pipe(\r\n      tap(changed => {\r\n        if (changed) {\r\n          let chgIndex = this.listaArquivos.findIndex(predicate => (predicate.templateId === changed.templateId));\r\n          this.listaArquivos.splice(chgIndex, 1, changed);\r\n          this._arquivos$.next(this.listaArquivos);\r\n          console.log(`${this._serviceName}: Item código=${item[keyName]} atualizada com sucesso!`)\r\n        }\r\n      }),\r\n      finalize(() => this._loading$.next(false)),\r\n      catchError(this.handleError<any>(`updateItem código=${item[keyName]}`))\r\n    );\r\n  }\r\n\r\n  removeRegistro(exportId: string, registro: string) {\r\n    this._loading$.next(true);\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n\r\n    this.http.delete<Template>(`arquivos/${exportId}/${registro}`).pipe(\r\n      tap(changed => {\r\n        if (changed) {\r\n          let chgIndex = this.listaArquivos.findIndex(predicate => (predicate.templateId === changed.templateId));\r\n          this.listaArquivos.splice(chgIndex, 1, changed);\r\n          this._arquivos$.next(this.listaArquivos);\r\n          console.log(`registro ${exportId}/${registro} removido com sucesso`);\r\n          let msg = `Registro ${exportId}/${registro} excluído com sucesso!`;\r\n          this.toastr.success(msg, \"CyberMessenger\");\r\n        } else\r\n          console.log(`Erro ao remover registro =${exportId}/${registro} [${changed}]`)\r\n      }),\r\n      finalize(() => this._loading$.next(false)),\r\n      catchError(this.handleError('removeRegistro'))\r\n    ).subscribe(value => console.log('removido com sucesso'));\r\n  }\r\n\r\n  removeArquivo(exportId: string) {\r\n    this._loading$.next(true);\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n\r\n    this.http.delete<boolean>(`arquivos/${exportId}`).pipe(\r\n      tap(success => {\r\n        let chgIndex = this.listaArquivos.findIndex(predicate => (predicate.templateId === exportId));\r\n        this.listaArquivos.splice(chgIndex, 1);\r\n        this._arquivos$.next(this.listaArquivos);\r\n        console.log(`arquivo id=${exportId} removido com sucesso`);\r\n        let msg = `Arquivo ${exportId} excluído com sucesso!`;\r\n        this.toastr.success(msg, \"CyberMessenger\");\r\n        //  console.log(`Erro ao remover arquivo id=${exportId} [${success}]`)\r\n      }),\r\n      finalize(() => this._loading$.next(false)),\r\n      catchError(this.handleError('removeArquivo'))\r\n    ).subscribe(value => console.log('removido com sucesso'));\r\n  }\r\n\r\n  /*getUsername(): string {\r\n    return this.jwtService.getUsername();\r\n  }*/\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Observable } from 'rxjs';\nimport { Layout } from '../models/layout.model';\nimport { faFileInvoice } from '@fortawesome/free-solid-svg-icons';\nimport {escapeRegExp} from '../util/common';\n\n@Component({\n    selector: 'confirmacao-modal-content', \n    templateUrl: './confirmacao-acao.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class ConfirmationModalContent implements OnInit{\n    @Input() openType:string = '';\n    @Input() layoutId:string = '';\n    @Input() registroId:string = '';\n    @Input() listaRegistros$:Observable<Layout[]>;\n\n    selectedReg: string = '';  \n    selectedExpId: string = '';  \n    faFileInvoice = faFileInvoice;\n    layoutIdMaxSize: number = 16;\n    layoutIdSizeLast: number = 16;\n\n    constructor(public activeModal: NgbActiveModal) {\n      \n    }\n\n    changeValue(inputValue: string){\n      if (inputValue!==undefined){\n        this.layoutIdSizeLast = this.layoutIdMaxSize - inputValue.length;\n      }else this.layoutIdSizeLast = this.layoutIdMaxSize;\n    }\n    onSaveItem(exportId: string, registro:string){\n      this.activeModal.close({'exportId':exportId, 'registro': registro})\n    }\n\n    onDeleteItem(exportId: string, registro:string){\n      this.activeModal.close({'exportId':exportId, 'registro': registro});\n    }\n    onSelectItem(registro:string){\n      this.registroId = registro;\n    }\n\n    ngOnInit(): void {\n          \n    }\n\n    \n  }","import { Component, OnInit} from '@angular/core';\r\n\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport {NgbModal, ModalDismissReasons, NgbModalOptions} from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { LayoutsService } from '../services/layouts.service';\r\n\r\nimport { faSync, faSort, faPlus, faTrashAlt, faPencilAlt, faSearch, faFileInvoice, faPortrait, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport { ConfirmationModalContent } from '../popups/confirmacao-acao.component';\r\nimport { Template } from '../models/template.model';\r\n//import { EnvService } from 'projects/empresas/src/lib/services/env.service';\r\n\r\n\r\n@Component({\r\n  selector: 'arquivo-extracao-list',\r\n  templateUrl: './arquivo-extracao-list.component.html',\r\n  styleUrls: ['../extrator-web.component.scss']\r\n})\r\nexport class ArquivoExtracaoListComponent implements OnInit {\r\n\r\n  private backendPackage: string = \"extratorWeb\";\r\n  private backendEndpoint: string = \"\";\r\n\r\n  title = '';\r\n  resourceName = '/';\r\n  faPlus = faPlus;\r\n  faPencilAlt = faPencilAlt;\r\n  faTrashAlt = faTrashAlt;\r\n  faSearch = faSearch;\r\n  faSort = faSort;\r\n  faFileInvoice = faFileInvoice;\r\n  faPortrait = faPortrait;\r\n  faEye = faEye;\r\n  faSync = faSync;\r\n\r\n  modalCloseResult = '';\r\n  checkedReg: string;\r\n\r\n  arquivos$: Observable<Template[]>;\r\n\r\n  selectedRegistroId: string = \"\";\r\n  selectedLayoutId: string = \"\";\r\n  static LOCALE_KEY = 'currentLocale';\r\n\r\n  //showLoading: boolean = false;\r\n  loading$: Observable<boolean>;\r\n  modalOptions:NgbModalOptions;\r\n\r\n  constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private modalService: NgbModal,\r\n        //private envService: EnvService,\r\n        private layoutsService: LayoutsService,\r\n        public translate: TranslateService) {\r\n    \r\n    this.arquivos$ = layoutsService.arquivos$;\r\n\r\n    /*this.loading$ = layoutsService.loading$;\r\n    this.loading$.subscribe((status)=>{\r\n      this.showLoading = status;\r\n    });*/\r\n\r\n    this.resourceName = '/' + layoutsService.getResourceName();\r\n\r\n    translate.setDefaultLang('ptBR');\r\n    const currentLocale = sessionStorage.getItem(ArquivoExtracaoListComponent.LOCALE_KEY);\r\n\r\n    translate.setDefaultLang(currentLocale);\r\n\r\n  }\r\n\r\n  get page() { return this.layoutsService.page; }\r\n  get pageSize() { return this.layoutsService.pageSize; }\r\n  get searchTerm() { return this.layoutsService.searchTerm; }\r\n  set page(page: number) { this.layoutsService.page = page; }\r\n  set pageSize(pageSize: number) { this.layoutsService.pageSize = pageSize; }\r\n  set searchTerm(searchTerm: string) { this.layoutsService.searchTerm = searchTerm; }\r\n\r\n  ngOnInit() {\r\n    this.clear();\r\n  }\r\n\r\n  previaArquivo(exportId: string): void {\r\n    this.router.navigate([this.resourceName, exportId]);\r\n  }\r\n\r\n  incluirArquivo(): void {\r\n    // Modal para escolha do nome\r\n    // Confirmação de inclusão\r\n    // Abertura do editor passando exportId e registro inicial que foi incluído (\"2\")\r\n\r\n    const modalRef = this.modalService\r\n              .open(ConfirmationModalContent, {ariaLabelledBy: 'Incluir Layout', windowClass: 'in'});\r\n\r\n    modalRef.componentInstance.openType = 'include-layout';\r\n    \r\n    modalRef.result.then((selValues) => {\r\n      \r\n      this.modalCloseResult = `Closed with selected item: ${selValues.exportId}`;\r\n      if (selValues.exportId===undefined || !selValues.exportId.trim())\r\n        return;\r\n      this.layoutsService.incluirArquivo(selValues.exportId.toUpperCase());\r\n    }, (reason) => {\r\n      this.modalCloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });\r\n  }\r\n\r\n  removeArquivo(e:Event, exportId: string): void {\r\n    //e.stopPropagation();\r\n    \r\n    const modalRef = this.modalService\r\n              .open(ConfirmationModalContent, {ariaLabelledBy: 'Excluir Aquivo', windowClass: 'in'});\r\n    \r\n    modalRef.componentInstance.openType = 'remove-layout';\r\n    modalRef.componentInstance.layoutId = exportId;\r\n    \r\n\r\n    modalRef.result.then((selValues) => {\r\n      this.modalCloseResult = `Closed with selected: ${selValues.exportId}`;\r\n      if (!selValues.exportId.trim())\r\n        return;\r\n      this.layoutsService.removeArquivo(selValues.exportId);\r\n    }, (reason) => {\r\n      this.modalCloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });    \r\n  }\r\n\r\n  incluirRegistro(e:Event, objItem: Template): void {\r\n    // Modal para escolha do registro\r\n    // Inclusão de novo registro em \"branco\" na lista\r\n    // Abertura do editor passando exportId e registro que será incluído\r\n    const modalRef = this.modalService\r\n              .open(ConfirmationModalContent, {ariaLabelledBy: 'Incluir Registro', windowClass: 'in'});\r\n              \r\n    modalRef.componentInstance.openType = 'include-registro';\r\n    modalRef.componentInstance.layoutId = objItem.templateId;\r\n    modalRef.componentInstance.listaRegistros$ = this.layoutsService.listarRegistrosDisponiveis(objItem.registros);\r\n\r\n    modalRef.result.then((selValues) => {\r\n      this.modalCloseResult = `Closed with selected item: ${selValues.registro}`;\r\n      if (!selValues.exportId.trim())\r\n        return;\r\n      this.layoutsService.incluirRegistro(selValues.exportId,selValues.registro);\r\n    }, (reason) => {\r\n      this.modalCloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });\r\n    e.stopPropagation();\r\n\r\n  }\r\n\r\n  removeRegistro(e:Event, exportId: string, registro: string): void {\r\n    const modalRef = this.modalService\r\n              .open(ConfirmationModalContent, {ariaLabelledBy: 'Excluir Registro', windowClass: 'in'});\r\n    \r\n    modalRef.componentInstance.openType = 'remove-registro';\r\n    modalRef.componentInstance.layoutId = exportId;\r\n    modalRef.componentInstance.registroId = registro;\r\n\r\n    modalRef.result.then((result) => {\r\n      this.modalCloseResult = `Closed with selected: ${result.registro}`;\r\n      if (!result.registro.trim())\r\n        return;\r\n      this.layoutsService.removeRegistro(result.exportId, result.registro);\r\n    }, (reason) => {\r\n      this.modalCloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });\r\n    e.stopPropagation();\r\n  }\r\n\r\n  alterarRegistro(exportId: string, registro: string): void {\r\n    this.router.navigate([this.resourceName,exportId, registro]);\r\n  }\r\n\r\n  clear(): void {\r\n    this.searchTerm = \"\";\r\n    this.checkedReg=\"\";\r\n    this.layoutsService.load();\r\n  }\r\n\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'cancel';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'cancel';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n}\r\n","import { Criterio } from \"./criterio.model\";\r\nimport { Campo } from \"./campo.model\";\r\nimport { Sort } from \"./sort.model\";\r\nimport { LayoutField } from \"./layout-field.model\";\r\n\r\nexport class Layout {\r\n\tconstructor(\r\n\t\tpublic grupo: string= \"\",\r\n\t\tpublic idExportacao : string= \"\",\r\n\t\tpublic linhasCorte  : number= 0,\r\n\t\tpublic comentario   : string= \"\",\r\n\t\tpublic breakField   : string= \"\",\r\n\t\tpublic campos       : Array<LayoutField> = [],\r\n\t\tpublic sorts        : Array<Sort>= [],  \r\n\t\tpublic criterios    : Array<Criterio>= [],\r\n\t\tpublic headers      : Array<LayoutField>= [],\r\n\t\tpublic traillers    : Array<LayoutField>= []\r\n\t){}\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { State } from '../models/state.model';\r\n//import { Observable, of } from 'rxjs';\r\n//import { catchError, map, tap } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\r\nimport { catchError, debounceTime, delay, switchMap, tap,take } from 'rxjs/operators';\r\n\r\nimport { LovVals } from '../models/lovvals.model';\r\nimport { SortDirection } from '../directives/sortable.directive';\r\nimport { HttpErrorHandler, HandleError } from './http-error-handler.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LayoutSearchResult } from '../models/search-result.model';\r\n\r\n\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LovValsService{\r\n  //private httpUrl = '';\r\n\r\n//private backendEndpoint = ProjectConfigService.settings.consoleEndpoint;\r\n  private resourceName = 'lovvals';\r\n  private handleError: HandleError;\r\n\r\n  private listaValores: LovVals[] = [];\r\n  private _loading$ = new BehaviorSubject<boolean>(false);\r\n  private _valores$ = new BehaviorSubject<LovVals[]>([]);\r\n  private _total$ = new BehaviorSubject<number>(0);\r\n  private _serviceName = \"LovValsService\";\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private httpErrorHandler: HttpErrorHandler,\r\n    private toastr: ToastrService) {\r\n  \r\n      this.handleError = httpErrorHandler.createHandleError(this._serviceName);\r\n      \r\n      this.getLovVals().subscribe(lovvals => {\r\n        this._loading$.next(false);\r\n        this.listaValores = lovvals;\r\n        this._valores$.next(lovvals);\r\n      });\r\n  }\r\n  \r\n  get valores$() { return this._valores$.asObservable(); }\r\n  get total$() { return this._total$.asObservable(); }\r\n  get loading$() { return this._loading$.asObservable(); }\r\n  \r\n  \r\n  filtrarListaValores ({ searchTerm, lovType}): Observable<LovVals[]> {\r\n    return of(searchTerm === '' ? [] : this.listaValores.filter(e => e.codigo.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1 && e.id === lovType));\r\n  }\r\n\r\n  getResourceName():string{\r\n    return 'lovvals';\r\n  }\r\n\r\n  getLovVals(): Observable<LovVals[]> {\r\n    //this.messageService.add(\"info\", this._serviceName + \" Lista de items selecionados\");\r\n    console.log(this._serviceName + \" Lista de items selecionados\");\r\n    //let options = {headers: new HttpHeaders().set('Authorization', this.jwtService.getToken())};\r\n   \r\n    return this.http.get<LovVals[]>(`${this.resourceName}`);\r\n\r\n  }\r\n\r\n}\r\n","import { LayoutFieldDetail } from \"./layout-field-detail.model\";\r\n\r\nexport class LayoutField {\r\n\r\n\tconstructor(\r\n\t\tpublic tabela     : string= \"\",\r\n\t\tpublic comentario : string= \"\",\r\n\t\tpublic sequencia  : number= 0,\r\n\t\tpublic detalhes   : Array<LayoutFieldDetail> = [],\r\n\t\tpublic tabelaAlias: string= \"\",  //Campo field_1\r\n\t\tpublic alias      : string= \"\",  //Campo field_2 \r\n\t\tpublic linhaCorte  : string= \"\", // or_flag\r\n\t\tpublic formatoSaida: string= \"\" // field_2_flag\r\n\t){}\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { TabelaSearchResult } from '../models/search-result.model';\r\nimport { State } from '../models/state.model';\r\n//import { Observable, of } from 'rxjs';\r\n//import { catchError, map, tap } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\r\nimport { catchError, debounceTime, delay, switchMap, tap, take, concat } from 'rxjs/operators';\r\n\r\nimport { Tabela } from '../models/tabela.model';\r\nimport { SortDirection } from '../directives/sortable.directive';\r\nimport { HttpErrorHandler, HandleError } from './http-error-handler.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Campo } from '../models/campo.model';\r\n\r\n\r\nfunction compare(v1, v2) {\r\n  return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n}\r\n\r\nfunction sort<T>(items: Tabela[], column: string, direction: string): Tabela[] {\r\n  if (direction === '') {\r\n    return items;\r\n  } else {\r\n    return [...items].sort((a, b) => {\r\n      const res = compare(a[column], b[column]);\r\n      return direction === 'asc' ? res : -res;\r\n    });\r\n  }\r\n}\r\n\r\nfunction matches(valores: any, text: string) {\r\n  const term = text.toLowerCase();\r\n  let item: Tabela = valores as Tabela;\r\n  return item.owner.includes(term)\r\n    || (item.tableName.toLowerCase().includes(term));\r\n}\r\n\r\n\r\nfunction fullMatch(value: any, owner: string, tableName: string) {\r\n  let item: Tabela = value as Tabela;\r\n  return (item.owner === owner && item.tableName === tableName);\r\n}\r\n\r\nfunction validItemB(value: any, owner: string, tableName: string) {\r\n  let item: Tabela = value as Tabela;\r\n\r\n  if (item.owner.toUpperCase().includes(owner.toUpperCase())) {\r\n    if (item.tableName.toUpperCase().includes(tableName.toUpperCase())) {\r\n      return item\r\n    }\r\n  }\r\n  return (item.owner.toUpperCase() === owner.toUpperCase() && item.tableName.toUpperCase() === tableName.toUpperCase())\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TabelasService {\r\n  //private httpUrl = '';\r\n\r\n  //private backendEndpoint = ProjectConfigService.settings.consoleEndpoint;\r\n  private resourceName = 'tabelas';\r\n  private handleError: HandleError;\r\n\r\n  private listaValores: Tabela[] = [];\r\n  private _loading$ = new BehaviorSubject<boolean>(false);\r\n  private _search$ = new Subject<void>();\r\n  private _valores$ = new BehaviorSubject<Tabela[]>([]);\r\n  private _total$ = new BehaviorSubject<number>(0);\r\n  private _serviceName = \"Tabela\";\r\n\r\n  private _state: State = {\r\n    page: 1,\r\n    pageSize: 10,\r\n    registro: '',\r\n    searchTerm: '',\r\n    sortColumn: '',\r\n    sortDirection: ''\r\n  };\r\n\r\n  constructor(\r\n    \r\n    private http: HttpClient,\r\n    private httpErrorHandler: HttpErrorHandler,\r\n    private toastr: ToastrService) {\r\n    this.handleError = httpErrorHandler.createHandleError(this._serviceName);\r\n   \r\n    this._search$.pipe(\r\n      tap(() => this._loading$.next(true)),\r\n      debounceTime(200),\r\n      switchMap(() => this._search()),\r\n      delay(200),\r\n      tap(() => this._loading$.next(false))\r\n    ).subscribe(result => {\r\n      this._valores$.next(result.items);\r\n      this._total$.next(result.total);\r\n    });\r\n    //this._search$.next();\r\n  }\r\n\r\n  get valores$() { return this._valores$.asObservable(); }\r\n  get total$() { return this._total$.asObservable(); }\r\n  get loading$() { return this._loading$.asObservable(); }\r\n  get page() { return this._state.page; }\r\n  get pageSize() { return this._state.pageSize; }\r\n  get searchTerm() { return this._state.searchTerm; }\r\n  get registro() { return this._state.registro; }\r\n\r\n  set page(page: number) { this._set({ page }); }\r\n  set pageSize(pageSize: number) { this._set({ pageSize }); }\r\n  set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\r\n  set registro(registro: string) { this._set({ registro }); }\r\n  set sortColumn(sortColumn: string) { this._set({ sortColumn }); }\r\n  set sortDirection(sortDirection: SortDirection) { this._set({ sortDirection }); }\r\n\r\n  private _set(patch: Partial<State>) {\r\n    Object.assign(this._state, patch);\r\n    this._search$.next();\r\n  }\r\n\r\n  private _search(): Observable<TabelaSearchResult> {\r\n    const { sortColumn, sortDirection, pageSize, page, searchTerm } = this._state;\r\n\r\n    // 1. sort\r\n    let items = sort(this.listaValores, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    items = items.filter(item => matches(item, searchTerm));\r\n    const total = items.length;\r\n\r\n    // 3. paginate\r\n    //items = items.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\r\n\r\n    //this.messageService.add(\"success\", this._serviceName + \": Lista de items selecionados\");\r\n\r\n    return of({ items, total });\r\n\r\n  }\r\n\r\n  getResourceName(): string {\r\n    return 'tabela';\r\n  }\r\n\r\n  validItem(owner: string, tableName: string) {\r\n    if (owner===null ||  owner.trim()==='') owner = 'RCVRY';\r\n    let items = this.listaValores.filter(item => validItemB(item, owner, tableName));\r\n    return items.length;\r\n  }\r\n\r\n  selectItem(owner: string, tableName: string): Observable<Tabela> {\r\n    if (owner === null || tableName === null) return of(null);\r\n    let items = this.listaValores.filter(item => fullMatch(item, owner, tableName));\r\n    return of(items[0]);\r\n  }\r\n\r\n  load(){\r\n    this.getItems().subscribe(\r\n      tabelas => {\r\n        this.listaValores = tabelas;\r\n        this._valores$.next(this.listaValores);\r\n        this._search$.next();\r\n      },\r\n      error => console.info(error) // error path\r\n    );\r\n  }\r\n\r\n  getItems(): Observable<Tabela[]> {\r\n    //this.messageService.add(\"info\", this._serviceName + \" Lista de items selecionados\");\r\n    console.log(this._serviceName + \" Lista de items selecionados\");\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n\r\n    /*\r\n        var one = this.config.load().pipe(take(1));\r\n        var two = someOtherObservable.pipe(take(1));\r\n        concat(one, two).subscribe(function() {});\r\n        */\r\n    return this.http.get<Tabela[]>(`${this.resourceName}`);\r\n\r\n  }\r\n\r\n  getItem(codigoItem: string): Observable<Tabela[]> {\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n    return this.http.get<Tabela[]>(`${this.resourceName}/${codigoItem}`);\r\n  }\r\n\r\n  getColunasTabela(tabela: string): Observable<Campo[]> {\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n    return this.http.get<Campo[]>(`${this.resourceName}/${tabela}`);\r\n  }\r\n\r\n  putItem(item: Tabela, keyName: string): Observable<any> {\r\n    //return this.http.put(`/${item[keyName]}`, item, httpOptions).pipe(\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n    return this.http.put(`${this.resourceName}`, item);\r\n  }\r\n\r\n  postItems(items: Tabela[]): Observable<Tabela[]> {\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n    return this.http.post<Tabela[]>(`${this.resourceName}`, items);\r\n  }\r\n\r\n  /** DELETE: delete item from the server */\r\n  deleteItem(item: Tabela | number, keyName?: string): Observable<Tabela> {\r\n    const id = typeof item === 'number' ? item : item[keyName];\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n    return this.http.delete<Tabela>(`${this.resourceName}/${id}`);\r\n  }\r\n\r\n  searchItem(term: string, codigo: string): Observable<Tabela[]> {\r\n    if (!term.trim()) {\r\n      // if not search term, return empty hero array.\r\n      return this.getItem(codigo);\r\n    }\r\n    //const url = `${this.httpUrl}/${this.envConfig.extratorEndpoint}/?term=${term}`;\r\n\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    \r\n    return this.http.get<Tabela[]>(`${this.resourceName}/${codigo}/${term}`);\r\n    //tap(_ =>console.log(`found items matching \"${term}\"`)),\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { faEllipsisH, faSearch, faSortDown, faSortUp } from '@fortawesome/free-solid-svg-icons';\nimport { Observable } from 'rxjs';\nimport { Tabela } from '../models/tabela.model';\nimport { LayoutFieldDetail } from '../models/layout-field-detail.model';\nimport { TabelasService } from '../services/tabelas.service';\nimport { Validators, FormControl, FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'seleciona-tabela-modal-content', \n    templateUrl: './seleciona-tabela.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class SelecionaTabelaModalContent implements OnInit{\n    @Input() actionType:string = \"\"; // Include-Remove-Change\n    // text-dropdown\n    @Input() selectedTable: any = {}; \n    \n    tabErr: string=null;\n    aliasErr: string=null;\n    showList:boolean = true;\n    actionSelectList$:Observable<Tabela[]>; // Include-Remove-Change\n    \n    faEllipsisH = faEllipsisH;\n    faSearch = faSearch;\n    faClosed = faSortDown;\n    faOpened = faSortUp;\n\n    contentForm = new FormGroup({\n      \"comentario\": new FormControl('', [\n        Validators.required\n      ]),\n      \"tableAlias\": new FormControl('', [\n        Validators.required\n      ]),\n      \"tableName\": new FormControl('', [\n        Validators.required\n      ])\n    });\n    \n    constructor(private tabService: TabelasService,\n                public activeModal: NgbActiveModal) {\n      this.actionSelectList$ = this.tabService.valores$;\n    }\n\n    //get searchTerm() { return this.tabService.searchTerm; }\n    //set searchTerm(searchTerm: string) { this.tabService.searchTerm = searchTerm; }\n\n    onSaveItem(){\n      if (this.actionType===\"remove\")\n        this.activeModal.close({'actionType': this.actionType,'result':true,'tabelaExcluida':this.selectedTable});\n      else if (this.actionType===\"include\"){\n\n        /*if (this.selectedTable.tabela===undefined || this.selectedTable.tabela.trim()===''){\n          this.tabErr='Nome da tabela obrigatório!!';  \n          return;\n        }*/\n\n        let found:number = this.tabService.validItem('', this.selectedTable.tabela);\n        if (found>0){\n          this.selectedTable.tabelaAlias = this.selectedTable.tabela;\n\n          if (this.selectedTable.alias!= undefined && this.selectedTable.alias.trim()!==''){\n            this.selectedTable.tabela = this.selectedTable.tabela+\" \"+this.selectedTable.alias;\n          }\n\n          this.selectedTable.sequencia = 0;\n          this.selectedTable.detalhes = new Array<LayoutFieldDetail>();\n          this.activeModal.close({'actionType': this.actionType,'result':true,'novaTabela':this.selectedTable});\n        }else{\n          this.tabErr='Tabela inválida!!';  \n        }\n      }else\n        this.activeModal.close({'actionType': this.actionType,'result':false});\n    }\n\n    onSelectItem(tabela: string){\n      this.selectedTable.tabela = tabela;\n      this.tabErr=null;\n    }\n\n    ngOnInit(): void {\n      this.tabService.load();\n      this.contentForm.patchValue(this.selectedTable);\n    }\n  }","export class LayoutFieldDetail {\r\n\r\n\tprivate _extractType : string = \"\";\r\n\tprivate _colType : string = \"\";\r\n\tpublic tableName   : string = \"\";\r\n\tpublic sequence    : number = 0;\r\n\tpublic column      : string = \"\";\r\n\tpublic format      : string = \"\";\r\n\tpublic position    : number = 0;\r\n\tpublic length      : number = 0;\r\n\tpublic header      : string = \"\";\r\n\tpublic args      : string = \"\";\r\n\r\n\tpublic get extractType(): string {\r\n\t\treturn this._extractType;\r\n\t}\r\n\tpublic set extractType(value : string) {\r\n\t\tif (value==\"S\"){\r\n\t\t\tthis._colType = \"DATE\";\r\n\t\t}\r\n\t\tthis._extractType=value;\r\n\t}\r\n\tpublic get colType(): string {\r\n\t\treturn this._colType;\r\n\t}\r\n\tpublic set colType(value:string){\r\n\t\tif (this._extractType==\"S\"){\r\n\t\t\tthis._colType=\"DATE\";\r\n\t\t}else{\r\n\t\t\tthis._colType=value;\r\n\t\t}\r\n\t}\r\n}\r\n","import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Observable } from 'rxjs';\nimport { Campo } from '../models/campo.model';\nimport { LayoutFieldDetail } from '../models/layout-field-detail.model';\n\n@Component({\n    selector: 'confirmacao-item-modal-content', \n    templateUrl: './confirmacao-item.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class ConfirmacaoItemModalContent {\n    @Input() actionType:string = \"\"; // Include-Remove-Change\n    // text-dropdown\n    @Input() actionSelectList$:Observable<Campo>; // Include-Remove-Change\n    @Input() selectedItem: LayoutFieldDetail= new LayoutFieldDetail(); \n    \n    faTrashAlt\n    constructor(public activeModal: NgbActiveModal) {}\n\n\n    onSaveItem(){\n      if (this.actionType===\"remove\")\n        this.activeModal.close({'actionType': this.actionType,'result':true,'itemExcluido':this.selectedItem});\n      else if (this.actionType===\"include\"){\n        this.activeModal.close({'actionType': this.actionType,'result':true,'novoItem':this.selectedItem});\n      }else\n      this.activeModal.close({'actionType': this.actionType,'result':false});\n    }\n    \n/*\n    colType: \"VARCHAR2\"\n    column: \"substr(agobs2,1,80)\"\n    extractType: \"F\"\n    format: \"L\"\n    length: 80\n    position: 0\n    sequence: 29\n    tableName: \"agency\"*/\n  }","export class Sort {\r\n\tconstructor(\r\n\t\tpublic sequence   : number=0,//sequence\r\n\t\tpublic sortField  : string = \"\",//field_1\r\n\t\tpublic sortType   : string = \"\",//field_2\r\n\t\tpublic _sortBreak  : string = \"\"//field_2_flag\r\n\t){}\r\n\r\n\tpublic get sortBreak():string{\r\n\t\treturn this._sortBreak;\r\n\t}\r\n\tpublic set sortBreak(value:string){\r\n\t\tthis._sortBreak=value;\r\n\t};\r\n\r\n\t/*public get isChecked():boolean{\r\n\t\tif (this._sortBreak===\"0\"||this._sortBreak.length>0){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tpublic set isChecked(value:boolean){\r\n\t\tif (value===true){\r\n\t\t\tthis._sortBreak = \"0\";\r\n\t\t}else{\r\n\t\t\tthis._sortBreak = \"\";\r\n\t\t}\r\n\t};*/\r\n\r\n}\r\n","export class Criterio {\r\n\t\tconstructor(\r\n\t\t\tpublic sequence   : number = 0,\r\n\t\t\tpublic field      : string = \"\",\r\n\t\t\tpublic operator   : string = \"\",\r\n\t\t\tpublic field2Type : string = \"\",\r\n\t\t\tpublic field2     : string = \"\",\r\n\t\t\tpublic or         : string = \"\",\r\n\t\t\tpublic parEsq     : string = \"\",\r\n\t\t\tpublic parDir     : string = \"\",\r\n\t\t\tpublic tabela1    : string = \"\",\t//comment1\r\n\t\t\tpublic tabela2    : string = \"\",\t//field_3\r\n\t\t\tpublic tabelaAlias1 : string = \"\", \t// TABELA_ALIAS_1\r\n\t\t\tpublic tabelaAlias2 : string = \"\" \t// TABELA_ALIAS_2\r\n\t\t){}\r\n}\r\n","import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Layout } from '../models/layout.model';\nimport { Observable } from 'rxjs';\nimport { LayoutField } from '../models/layout-field.model';\nimport { Sort } from '../models/sort.model';\nimport { Campo } from '../models/campo.model';\nimport { Criterio } from '../models/criterio.model';\nimport { LayoutFieldDetail } from '../models/layout-field-detail.model';\n\n@Component({\n    selector: 'sort-detail-modal-content', \n    templateUrl: './sort-detail.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class SortDetailModalContent {\n    @Input() actionType:string = \"\"; // Include-Remove-Change\n    // text-dropdown\n    @Input() actionSelectList$:Observable<Campo>; // Include-Remove-Change\n    @Input() selectedSortItem: Sort= new Sort(); \n   \n    listaOrdem = [\"ASC\", \"DESC\"];\n    \n    constructor(public activeModal: NgbActiveModal) {}\n\n\n    onSaveItem(){\n      if (this.actionType===\"remove\")\n        this.activeModal.close({'actionType': this.actionType,'result':true,'itemExcluido':this.selectedSortItem});\n      else if (this.actionType===\"change\"){\n        this.activeModal.close({'actionType': this.actionType,'result':true,'itemAlterado':this.selectedSortItem});\n      }else\n      this.activeModal.close({'actionType': this.actionType,'result':false});\n    }\n    \n  }","import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Observable } from 'rxjs';\nimport { Campo } from '../models/campo.model';\nimport { Criterio } from '../models/criterio.model';\nimport { LovVals } from '../models/lovvals.model';\n\n@Component({\n    selector: 'criterio-detail-modal-content', \n    templateUrl: './criterio-detail.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class CriterioDetailModalContent {\n    @Input() actionType:string = \"\"; // Include-Remove-Change\n    // text-dropdown\n    @Input() actionSelectList$:Observable<Campo>; // Include-Remove-Change\n    \n    @Input() operacoesList:Array<LovVals> = [];\n    @Input() fieldTypesList:Array<LovVals> = [];\n    @Input() selectedCriterioItem: Criterio= new Criterio(); \n   \n    \n    \n    constructor(public activeModal: NgbActiveModal) {}\n\n\n    onSaveItem(){\n      if (this.actionType===\"remove\")\n        this.activeModal.close({'actionType': this.actionType,'result':true,'itemExcluido':this.selectedCriterioItem});\n      else if (this.actionType===\"change\"){        \n        this.activeModal.close({'actionType': this.actionType,'result':true,'itemAlterado':this.selectedCriterioItem});\n      }else\n      this.activeModal.close({'actionType': this.actionType,'result':false});\n    }\n  }","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { ColumnState } from '../models/state.model';\r\n//import { Observable, of } from 'rxjs';\r\n//import { catchError, map, tap } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable, of, Subject, Subscription } from 'rxjs';\r\nimport { catchError, tap, switchMap,  debounceTime, delay } from 'rxjs/operators';\r\n\r\nimport { SortDirection } from '../directives/sortable.directive';\r\nimport { HttpErrorHandler, HandleError } from './http-error-handler.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Campo } from '../models/campo.model';\r\nimport { SearchResult } from '../models/search-result.model';\r\nimport { LayoutField } from '../models/layout-field.model';\r\n\r\n\r\nfunction compare(v1, v2) {\r\n  return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n}\r\n\r\nfunction sort(items: Campo[], column: string, direction: string): Campo[] {\r\n  if (direction === '') {\r\n    return items;\r\n  } else {\r\n    return [...items].sort((a, b) => {\r\n      const res = compare(a[column], b[column]);\r\n      return direction === 'asc' ? res : -res;\r\n    });\r\n  }\r\n}\r\n\r\nfunction matches(obj: any, text: string) {\r\n  const term = text.toUpperCase();\r\n  let item: Campo = obj as Campo;\r\n  return item.column.toUpperCase().includes(term);\r\n}\r\n\r\nfunction matchesTable(obj: any, text: string) {\r\n  const term = text.toUpperCase();\r\n  let item: Campo = obj as Campo;\r\n  return item.table.toUpperCase().includes(term);\r\n}\r\n\r\n\r\nfunction validItem(value: any, column: string, table: string) {\r\n  let item: Campo = value as Campo;\r\n\r\n  if (item.table.includes(table)) {\r\n    if (item.column.includes(column)) {\r\n      return item\r\n    }\r\n  }\r\n  return (item.column === column && item.table === table)\r\n\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ColunasService {\r\n  //private httpUrl = '';\r\n\r\n  //private backendEndpoint = ProjectConfigService.settings.consoleEndpoint;\r\n  private resourceName = 'colunas';\r\n  private handleError: HandleError;\r\n\r\n  private listaTabelas: Array<LayoutField> = [];\r\n  private listaColunas: Campo[] = [];\r\n\r\n  private colunasSubs: Subscription;\r\n\r\n  private _search$ = new Subject<void>();\r\n  private _loading$ = new BehaviorSubject<boolean>(false);\r\n  private _listaColunas$ = new BehaviorSubject<Campo[]>([]);\r\n  private _total$ = new BehaviorSubject<number>(0);\r\n  private _serviceName = \"Coluna\";\r\n\r\n  private _state: ColumnState = {\r\n    page: 1,\r\n    pageSize: 10,\r\n    tableName: '',\r\n    searchTerm: '',\r\n    sortColumn: 'column',\r\n    sortDirection: 'asc'\r\n  };\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private httpErrorHandler: HttpErrorHandler,\r\n    private toastr: ToastrService) {\r\n    this.handleError = httpErrorHandler.createHandleError(this._serviceName);\r\n    \r\n    this._search$.pipe(\r\n      tap(() => this._loading$.next(true)),\r\n      debounceTime(200),\r\n      switchMap(() => this._search()),\r\n      delay(200),\r\n      tap(() => this._loading$.next(false))\r\n    ).subscribe(result => {\r\n      this._listaColunas$.next(result.items);\r\n    });\r\n\r\n  }\r\n\r\n  get valores$() { return this._listaColunas$.asObservable(); }\r\n  get total$() { return this._total$.asObservable(); }\r\n  get loading$() { return this._loading$.asObservable(); }\r\n  get searchTerm() { return this._state.searchTerm; }\r\n  get tableName() { return this._state.tableName; }\r\n  set tableName(tableName: string) { this._set({ tableName }); }\r\n  set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\r\n  set sortColumn(sortColumn: string) { this._set({ sortColumn }); }\r\n  set sortDirection(sortDirection: SortDirection) { this._set({ sortDirection }); }\r\n\r\n  private _set(patch: Partial<ColumnState>) {\r\n    Object.assign(this._state, patch);\r\n    this._search$.next();\r\n  }\r\n\r\n  private _search(): Observable<SearchResult<Campo>> {\r\n    //const { pageSize, page, searchTerm } = this._state;\r\n    const { sortColumn, sortDirection, tableName } = this._state;\r\n\r\n    // 1. sort\r\n    let items = sort(this.listaColunas, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    if (tableName !== undefined || tableName != '')\r\n      items = items.filter(item => matchesTable(item, tableName));\r\n    //let items = this.listaColunas;\r\n    //items = items.filter(item => matches(item, searchTerm));\r\n    const total = items.length;\r\n\r\n    // 3. paginate\r\n    //templates = templates.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\r\n\r\n    //this.messageService.add(\"success\", this._serviceName + \": Lista de items selecionados\");\r\n\r\n    return of({ items, total });\r\n\r\n  }\r\n\r\n  load(tabelas: Array<LayoutField>) {\r\n    if (undefined != this.colunasSubs && !this.colunasSubs.closed)\r\n      this.colunasSubs.unsubscribe();\r\n\r\n    this.colunasSubs = this.getColunasTabelas(tabelas)\r\n            .subscribe(colunas => {\r\n              this.listaColunas = this.fillAlias(tabelas, colunas);\r\n              this._listaColunas$.next(this.listaColunas);\r\n              this._search$.next();\r\n            });\r\n  }\r\n\r\n  private fillAlias(tabelas: Array<LayoutField>, colunas: Array<Campo>): Campo[]{\r\n    let selectedCols = [];\r\n    tabelas.forEach(tab => {\r\n      colunas.forEach(col => {\r\n        if(tab.tabelaAlias.toUpperCase() !== col.table.toUpperCase()) return;\r\n        let objColuna: Campo = { ...col };\r\n        objColuna.alias = tab.alias.toUpperCase();\r\n        selectedCols.push(objColuna);\r\n      })\r\n    });\r\n    return selectedCols;\r\n  }\r\n\r\n  identificarCampo (coluna:string): Campo {\r\n    if (coluna === undefined || coluna === '')\r\n      return null;\r\n    else\r\n      return this.listaColunas.find(e => e.column.toUpperCase() === coluna.toUpperCase());\r\n  }\r\n\r\n  atualizarTabelaLista(novaTabela: LayoutField){\r\n    if (this.listaTabelas === null || this.listaTabelas === undefined) {\r\n      this.listaTabelas = [];\r\n      this.listaColunas = [];\r\n      this.listaTabelas.push(novaTabela);\r\n    }\r\n\r\n    this.http.get<Campo[]>(`${this.resourceName}/?tabela=${novaTabela.tabelaAlias}`)\r\n      .subscribe(colunas => {\r\n        console.log(`${this._serviceName}: Itens selecionados para tabela=${novaTabela.tabelaAlias}`)\r\n        let selectedCols = this.fillAlias([novaTabela], colunas);\r\n        /*let selectedCols = [];\r\n        colunas.forEach(col => {\r\n          col.alias = novaTabela.alias;\r\n          selectedCols.push(col);\r\n        });*/\r\n        this.listaColunas.push(...selectedCols);\r\n        this._listaColunas$.next(this.listaColunas);\r\n        this._search$.next();\r\n      });\r\n  }\r\n\r\n  removerTabelaLista(tabelaExcluida: LayoutField){\r\n\r\n    if(tabelaExcluida==undefined || tabelaExcluida==null)\r\n      return;\r\n    //let tabIdx = this.listaTabelas.findIndex(predicate => (predicate === nomeTabela));\r\n    //this.listaTabelas.splice(tabIdx, 1);\r\n    let newList =  this.listaColunas.filter((item) => {\r\n        (item.alias.toUpperCase() != tabelaExcluida.alias.toUpperCase())\r\n    });\r\n    this.listaColunas = newList;\r\n    this._listaColunas$.next(this.listaColunas);\r\n    this._search$.next();\r\n  }\r\n\r\n  getResourceName(): string {\r\n    return 'colunas';\r\n  }\r\n\r\n  validItem(column: string, tableName: string) {\r\n    let items = this.listaColunas.filter(item => validItem(item, column, tableName));\r\n    return items.length;\r\n  }\r\n\r\n  filtrarItems(term: string):Campo[] {\r\n    return (term === '') ?this.listaColunas:this.listaColunas.filter(v => v.column.toUpperCase().indexOf(term.toUpperCase()) > -1 ).slice(0, 10);\r\n    //this._listaColunas$.next(items);\r\n  }\r\n\r\n  getItems(): Observable<Campo[]> {\r\n    //this.messageService.add(\"info\", this._serviceName + \" Lista de items selecionados\");\r\n    console.log(this._serviceName + \" Lista de items selecionados\");\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n  \r\n    return this.http.get<Campo[]>(`${this.resourceName}/${this.resourceName}`);\r\n\r\n  }\r\n\r\n  private getColunasTabelas(tabelas: Array<LayoutField>): Observable<Campo[]> {\r\n    if (tabelas.length <= 0) {\r\n      this.listaColunas = [];\r\n      this._listaColunas$.next(this.listaColunas);\r\n      return;\r\n    }else{\r\n      this.listaTabelas = tabelas;\r\n    }\r\n\r\n    //let options = { headers: new HttpHeaders().set('Authorization', this.jwtService.getToken()) };\r\n    let params = [];\r\n\r\n    tabelas.forEach(item => params.push(\"tabela=\" + item.tabelaAlias));\r\n\r\n    return this.http.get<Campo[]>(`${this.resourceName}/?${params.join(\"&\")}`)\r\n      .pipe(\r\n        tap(\r\n          items => {\r\n            console.log(`${this._serviceName}: Itens selecionado para tabelas=${params.join(\"&\")}`)\r\n          }),\r\n          catchError(this.handleError<Campo[]>('Colunas', []))\r\n      );\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, QueryList, ViewChildren, ViewChild } from '@angular/core';\nimport { Observable, BehaviorSubject, Subject, of, Subscription, merge } from 'rxjs';\n\nimport { faSort, faTrashAlt, faPencilAlt, faPlus, faSearch, faEllipsisV, faSync, faCog } from '@fortawesome/free-solid-svg-icons';\n\nimport { ToastrService } from 'ngx-toastr';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Validators, FormControl, FormGroup, FormBuilder, FormArray } from '@angular/forms';\nimport { Layout } from '../models/layout.model';\nimport { LovVals } from '../models/lovvals.model';\n\nimport { NgbModal, NgbTypeahead } from '@ng-bootstrap/ng-bootstrap';\nimport { NgbdSortableHeader, SortEvent } from '../directives/sortable.directive';\nimport { LayoutsService } from '../services/layouts.service';\nimport { LovValsService } from '../services/lovvals.service';\nimport { LayoutField } from '../models/layout-field.model';\nimport { LayoutFieldDetail } from '../models/layout-field-detail.model';\nimport { SelecionaTabelaModalContent } from '../popups/seleciona-tabela.component';\nimport { ConfirmacaoItemModalContent } from '../popups/confirmacao-item.component';\nimport { Sort } from '../models/sort.model';\nimport { Criterio } from '../models/criterio.model';\nimport { SortDetailModalContent } from '../popups/sort-detail.component';\nimport { CriterioDetailModalContent } from '../popups/criterio-detail.component';\nimport { SelecionaFuncaoModalContent } from '../popups/seleciona-funcao.component';\nimport { CampoTabelaModalContent } from '../popups/campotabela.component';\nimport { TabelasService } from '../services/tabelas.service';\nimport { Campo } from '../models/campo.model';\nimport { ColunasService } from '../services/colunas.service';\nimport { map, debounceTime, distinctUntilChanged, switchMap, tap, delay, filter } from 'rxjs/operators';\n//import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\n\n@Component({\n  selector: 'arquivo-extracao-edit',\n  templateUrl: './arquivo-extracao-edit.component.html',\n  styleUrls: ['../extrator-web.component.scss']\n})\nexport class ArquivoExtracaoEditComponent implements OnInit {\n  goBackLink: string;\n  openType: string;\n  activeTab = 1;\n\n  originalCopy: string;\n\n  selectedTemplateId = \"\";\n  selectedRegistroId = \"\";\n  selectedTable: LayoutField = new LayoutField();\n\n  //selectedOrigens: Array<number> = [];\n\n  selectedHeader: LayoutFieldDetail[] = [];\n  selectedTrailler: LayoutFieldDetail[] = [];\n  selectedTemplate: Layout = new Layout();\n\n  private contOrdemCampo: number = 0;\n  private contOrdemCampoHeader: number = 0;\n  private contOrdemCampoTrailler: number = 0;\n  private contSorts: number = 0;\n  private contCriterios: number = 0;\n\n  //arqLoading$: Observable<boolean>;\n  //tabelas$: Observable<Tabela[]>;\n  template$: Observable<Layout>;\n  lovVals$: Observable<LovVals[]>;\n  //camposTabelasList$:Observable<Campo[]>;\n  lovSubs: Subscription;\n  templateSubs: Subscription;\n  layoutSubs: Subscription;\n\n  lstFormNumber: Array<LovVals> = [];\n  lstFormData: Array<LovVals> = [];\n  lstFormVarchar2: Array<LovVals> = [];\n  lstTipoDados: Array<LovVals> = [];\n  lstExtrair: Array<LovVals> = [];\n  lstTipoOperadores: Array<LovVals> = [];\n  lstTipoCampos2: Array<LovVals> = [];\n  lstExtrairHT: Array<LovVals> = [];\n  lstFuncoes: Array<LovVals> = [];\n  lstFormatoArq: Array<LovVals> = [];\n  lstOrdem = [\"ASC\", \"DESC\"];\n\n  lastChangeDesc = '';\n\n  faEllipsisV = faEllipsisV;\n  faSearch = faSearch;\n  faPlus = faPlus;\n  faPencilAlt = faPencilAlt;\n  faTrashAlt = faTrashAlt;\n  faSort = faSort;\n  faSync = faSync;\n  faCog = faCog;\n  errors: string;\n\n  static LOCALE_KEY = 'currentLocale';\n\n  formTemplate: FormGroup;\n  criterios: FormArray;\n  campos: FormArray;\n  sorts: FormArray;\n  headers: FormArray;\n  traillers: FormArray;\n\n  //private _filteredColValues$ = new BehaviorSubject<Campo[]>([]);\n  private _filteredFuncValues$ = new BehaviorSubject<LovVals[]>([]);\n  \n  /* @ViewChild('instance') instance: NgbTypeahead;\n  focus$ = new Subject<string>();\n  click$ = new Subject<string>();\n  search = (text$: Observable<string>) => {\n    const debouncedText$ = text$.pipe(debounceTime(200), distinctUntilChanged());\n    const clicksWithClosedPopup$ = this.click$.pipe(filter(() => !this.instance.isPopupOpen()));\n    const inputFocus$ = this.focus$;\n\n    return merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe(\n      map(term => (this.colsService.filtrarItems(term)))\n    );\n  }*/\n  \n  constructor(private route: ActivatedRoute,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private colsService: ColunasService,\n    private layoutsService: LayoutsService,\n    private lovsService: LovValsService,\n    private modalService: NgbModal,\n    private toastr: ToastrService,\n    public translate: TranslateService) {\n\n    translate.setDefaultLang('ptBR');\n    const currentLocale = sessionStorage.getItem(ArquivoExtracaoEditComponent.LOCALE_KEY);\n\n    translate.setDefaultLang(currentLocale);\n    \n  }\n  \n\n  get filteredColValues$() { return this.colsService.valores$ }\n  get filteredFuncValues$() { return this._filteredFuncValues$.asObservable() }\n\n  get page() { return this.layoutsService.page; }\n  get pageSize() { return this.layoutsService.pageSize; }  \n  set page(page: number) { this.layoutsService.page = page; }\n  set pageSize(pageSize: number) { this.layoutsService.pageSize = pageSize; }\n\n  set tableName(tableName: string) { this.colsService.tableName = tableName; }\n\n  selecionaColunaCriterio(selectedRow: Criterio, changed: string, coluna: string = null) {\n    if (selectedRow === null || coluna === null)\n      return;\n\n    let selCampo: Campo = this.colsService.identificarCampo(coluna);\n    if (selCampo==null || selCampo==undefined){\n      selectedRow[(changed === \"field2\")?\"tabela2\":\"tabela1\"] = \"\";\n      return; \n    }\n\n    this.lastChangeDesc = `coluna selecionada: ${selCampo.column}`;\n    selectedRow[changed] = selCampo.column.toUpperCase();\n    if (changed === \"field2\") {\n      selectedRow.tabela2 = selCampo.alias.toUpperCase() || selCampo.table.toUpperCase(); // coluna field3\n    } else {\n      selectedRow.tabela1 = selCampo.alias.toUpperCase() ||selCampo.table.toUpperCase(); // coluna comment1\n      if (selectedRow.field2Type == 'v'){\n        selectedRow.tabela2 = selCampo.table.toUpperCase();\n      }\n    }\n  }\n\n  selecionaColunaCampo(selectedRow: LayoutFieldDetail, coluna: string = null) {\n    if (selectedRow === null || coluna === null)\n      return;\n\n    let selCampo: Campo = this.colsService.identificarCampo(coluna);\n    if (selCampo==null || selCampo==undefined){\n      selectedRow.tableName = \"\";\n      return; \n    }else if (selCampo.alias != this.selectedTable.alias){\n      selectedRow.column = \"\";\n      let msg = `A Coluna selecionada (${coluna}) não existe na tabela escolhida ${this.selectedTable.tabela}`;\n      this.toastr.error(msg, \"Erro:\");\n      return;\n    }\n\n    this.lastChangeDesc = `coluna selecionado: ${selCampo.column.toUpperCase()}`;\n    selectedRow.column = selCampo.column.toUpperCase();\n    selectedRow.tableName = selCampo.alias.toUpperCase() || selCampo.table.toUpperCase(); // coluna field3\n    selectedRow.length = selCampo.len;\n    switch (selCampo.type) {\n      case 30: //inteiro - 'd'\n        selectedRow.format = (selectedRow.colType === undefined || selectedRow.colType.toUpperCase() !== 'NUMBER') ? '0' : selectedRow.format;\n        selectedRow.colType = 'NUMBER';\n        break;\n      case 31: //ponto flutuante - 'f'\n        selectedRow.format = (selectedRow.colType === undefined || selectedRow.colType.toUpperCase() !== 'NUMBER') ? '2' : selectedRow.format;\n        selectedRow.colType = 'NUMBER';\n        break;\n      case 3: //Date - 'a'\n        selectedRow.format = (selectedRow.colType === undefined || selectedRow.colType.toUpperCase() !== 'DATE') ? '2' : selectedRow.format;\n        selectedRow.colType = 'DATE';\n        break;\n      case 21: //varchar2 - 'i'\n      default:\n        selectedRow.format = (selectedRow.colType === undefined || selectedRow.colType.toUpperCase() !== 'VARCHAR2') ? 'L' : selectedRow.format;\n        selectedRow.colType = 'VARCHAR2';\n        break;\n    }\n  }\n\n  selecionaColunaOrdenacao(selectedRow: Sort, coluna: string) {\n    if (selectedRow === null || selectedRow === undefined || coluna === null )\n      return;\n\n    let selCampo: Campo = this.colsService.identificarCampo(coluna);\n    if (selCampo==null || selCampo==undefined){\n      selectedRow.sortField = selectedRow.sortField.toUpperCase();\n      return; \n    }\n\n    this.lastChangeDesc = `coluna selecionada: ${selCampo.column.toUpperCase()}`;\n    selectedRow.sortField = `${selCampo.alias.toUpperCase()}.${selCampo.column.toUpperCase()}`;\n  }\n\n  selecionaFunction(selectedRow: any, changed: string, selectedVal: string) {\n    if (selectedRow === null || selectedVal === null)\n      return;\n\n    this.lastChangeDesc = `function selecionada: ${selectedVal.toUpperCase()}`;\n    selectedRow[changed] = selectedVal.toUpperCase();\n  }\n\n  ngOnInit() {\n    this.clearData();\n    this.lovSubs = this.lovsService.valores$.subscribe(lovItems => {\n      this.configuraLovsExport(lovItems);\n    });\n    this.goBackLink = '/' + this.layoutsService.getResourceName();\n    //this.openType = this.route.snapshot.paramMap.get('openType');\n    this.selectedTemplateId = this.route.snapshot.paramMap.get('exportId');\n    this.selectedRegistroId = this.route.snapshot.paramMap.get('registro');\n    if (this.selectedTemplateId === null || this.selectedRegistroId === null) {\n      //this.clearForm();//show error and close screen\n      let msg = `Registro selecionado é inválido`;\n      this.toastr.error(msg, \"Erro:\");\n      this.exit();\n    } else {\n      if (undefined == this.templateSubs || this.templateSubs.closed){\n        this.templateSubs = this.layoutsService.buscarTemplate(this.selectedTemplateId, this.selectedRegistroId)\n            .subscribe(template => {\n              if (template != null) {\n                this.originalCopy = JSON.stringify(template);\n                this.selectedTemplate = template;\n\n                if (template.campos.length > 0) {\n                  this.onSelectTabela(template.campos[0].sequencia);\n                  this.carregaContadorCampos();\n                  this.colsService.load(template.campos);\n                }\n                if (template.headers.length > 0) {\n                  this.selectedHeader = template.headers[0].detalhes;\n                  this.carregaContadorCamposHeader();\n                }\n                if (template.traillers.length > 0) {\n                  this.selectedTrailler = template.traillers[0].detalhes;\n                  this.carregaContadorCamposTrailler();\n                }\n                if (template.sorts.length > 0) {\n                  this.carregaContadorOrdernacao();\n                }\n                if (template.criterios.length > 0) {\n                  this.carregaContadorCriterios();\n                }\n              }\n        });\n      }\n    }\n    //this.tabService.listarCamposTabelaOrdenacao();\n    //this.tabService.listarCamposTabelaGeral();\n  }\n\n  ngOnDestroy() {\n    console.log('Cleaning Edit...');\n    if (this.templateSubs != undefined) this.templateSubs.unsubscribe();\n    if (this.lovSubs != undefined) this.lovSubs.unsubscribe();\n    //if (this.layoutSubs != undefined) this.layoutSubs.unsubscribe();\n  }\n\n  changeValue(event: any, objRow, colName, trueValue) {\n    objRow[colName] = (event.target.checked) ? trueValue : '';\n  }\n\n  configuraLovsExport(lstLovVals: LovVals[]): void {\n    let id: string = \"\";\n\n    lstLovVals.forEach((lovItem) => {\n      id = lovItem.id;\n      if (id == \"EXTEXT\") {\n        this.lstExtrair.push(lovItem);\n      }\n\n      if (id == \"EXTFN\") {\n        this.lstFormNumber.push(lovItem);\n      }\n\n      if (id == \"EXTFD\") {\n        this.lstFormData.push(lovItem);\n      }\n\n      if (id == \"EXTFV\") {\n        this.lstFormVarchar2.push(lovItem);\n      }\n\n      if (id == \"EXTTIPO\") {\n        this.lstTipoDados.push(lovItem);\n      }\n\n      if (id == \"EXTOP\") {\n        this.lstTipoOperadores.push(lovItem);\n      }\n\n      if (id == \"EXTTPC2\") {\n        this.lstTipoCampos2.push(lovItem);\n      }\n\n      if (id == \"EXTEXTHT\") {\n        this.lstExtrairHT.push(lovItem);\n      }\n\n      if (id == \"EXTFNC\") {\n        this.lstFuncoes.push(lovItem);\n      }\n\n      if (id == \"EXTFARQS\") {\n        this.lstFormatoArq.push(lovItem);\n      }\n    });\n    this._filteredFuncValues$.next(this.lstFuncoes);\n    //carrega os dados de linha de corte e fortado de arquivo de saida\n    /*\n    let firstHeader = this.selectedTemplate.headers[0];\n    \n    if (firstHeader.linhaCorte!=null&&firstHeader.linhaCorte!=\"\"){\n     this.linhaCorte  = firstHeader.linhaCorte;\n    }else{\n      this.linhaCorte  = \"0\";\n    }\n    if (firstHeader.formatoSaida!=null && firstHeader.formatoSaida!=\"\"){ \n      cboFormatoArq.selectedItem.codigo = firstHeader.formatoSaida; \n    }else{\n      cboFormatoArq.selectedItem.codigo = \"0\";\n    }*/\n  }\n\n  popupSelecionarTabela() {\n    // Modal para escolha da nova tabela que será adicionada a lista\n    // Inclusão de novo registro em \"branco\" na lista\n    const modalRef = this.modalService\n      .open(SelecionaTabelaModalContent, { size: 'xl', scrollable: true, ariaLabelledBy: 'Incluir Seleção Tabela', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'include';\n\n    modalRef.result.then((selValues) => {\n      if (selValues.novaTabela === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Nova tabela incluída: ${selValues.novaTabela.tabelaAlias}`;\n      this.selectedTemplate.campos.forEach(item => {\n        if (item.sequencia > selValues.novaTabela.sequencia)\n          selValues.novaTabela.sequencia = item.sequencia;\n      });\n      selValues.novaTabela.sequencia++;\n      if (selValues.novaTabela.alias===undefined || selValues.novaTabela.alias.trim()==''){\n        selValues.novaTabela.alias = \"TAB\" + selValues.novaTabela.sequencia;\n        selValues.novaTabela.tabela = selValues.novaTabela.tabelaAlias + \" \" + selValues.novaTabela.alias;\n      }\n      selValues.novaTabela.detalhes = new Array<LayoutFieldDetail>();\n      this.selectedTemplate.campos.push(selValues.novaTabela);\n      this.colsService.atualizarTabelaLista(selValues.novaTabela);\n    }, (reason) => {\n      this.lastChangeDesc = `Inclusão de tabela cancelada`;\n    });\n  }\n\n  popupRemoverTabela() {\n    // Modal de confirmação se a tabela será realmente removida\n    const modalRef = this.modalService\n      .open(SelecionaTabelaModalContent, { ariaLabelledBy: 'Remover Tabela', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'remove';\n    modalRef.componentInstance.selectedTable = this.selectedTable;\n\n    modalRef.result.then((selValues) => {\n      if (selValues === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Exclusão da tabela ${selValues.tabelaExcluida}`;\n      let chgIndex = this.selectedTemplate.campos.findIndex(predicate => (predicate.tabelaAlias == selValues.tabelaExcluida.tabelaAlias && predicate.alias == selValues.tabelaExcluida.alias));\n      this.selectedTemplate.campos.splice(chgIndex, 1);\n      this.onSelectTabela(this.selectedTemplate.campos[0].sequencia);\n      this.colsService.removerTabelaLista(selValues.tabelaExcluida);\n    }, (reason) => {\n      this.lastChangeDesc = `Inclusão de tabela cancelada`;\n    });\n  }\n\n  popupRemoverCriterio(selectedCriterioItem: Criterio) {\n    if (this.selectedTemplate.criterios.length < 2) {\n      //toast show quantidde de campos não pode ser menor que 1\n      this.toastr.error(\"lista de critérios deve ter ao menos 1 registro!\", \"CyberMessenger\");\n      return;\n    }\n    // Modal de confirmação se a tabela será realmente removida\n    const modalRef = this.modalService\n      .open(CriterioDetailModalContent, { ariaLabelledBy: 'Remover Critério', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'remove';\n    modalRef.componentInstance.selectedCriterioItem = selectedCriterioItem;\n\n    modalRef.result.then((selValues) => {\n      if (selValues === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Critério ${selValues.itemExcluido.sequence} excluído da lista`;\n      let chgIndex = this.selectedTemplate.criterios.findIndex(predicate => (predicate.sequence === selValues.itemExcluido.sequence));\n      this.selectedTemplate.criterios.splice(chgIndex, 1);\n\n    }, (reason) => {\n      this.lastChangeDesc = `Exclusão do Critério cancelado`;\n    });\n  }\n  popupRemoverOrdenacao(selectedSortItem: Sort) {\n    if (this.selectedTemplate.sorts.length < 2) {\n      //toast show quantidde de campos não pode ser menor que 1\n      this.toastr.error(\"lista deve ter ao menos 1 registro!\", \"CyberMessenger\");\n      return;\n    }\n    // Modal de confirmação se a tabela será realmente removida\n    const modalRef = this.modalService\n      .open(SortDetailModalContent, { ariaLabelledBy: 'Remover Ordenação', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'remove';\n    modalRef.componentInstance.selectedSortItem = selectedSortItem;\n\n    modalRef.result.then((selValues) => {\n      if (selValues === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Coluna ${selValues.itemExcluido.sortField} excluída da lista de ordenação`;\n      let chgIndex = this.selectedTemplate.sorts.findIndex(predicate => (predicate.sortField === selValues.itemExcluido.sortField && predicate.sequence === selValues.itemExcluido.sequence));\n      this.selectedTemplate.sorts.splice(chgIndex, 1);\n\n    }, (reason) => {\n      this.lastChangeDesc = `Exclusão do Campo de ordenação cancelado`;\n    });\n  }\n\n  popupRemoverCampo(selectedItem: LayoutFieldDetail) {\n    \n    if (this.qtdTotalCampos() < 2 ) {\n      //toast show quantidde de campos não pode ser menor que 1\n      this.toastr.error(\"lista de colunas deve ter ao menos 1 registro cadastrado!\", \"CyberMessenger\");\n      return;\n    }\n\n    // Modal de confirmação se a tabela será realmente removida\n    const modalRef = this.modalService\n      .open(ConfirmacaoItemModalContent, { ariaLabelledBy: 'Remover Campo Tabela', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'remove';\n    modalRef.componentInstance.selectedItem = selectedItem;\n\n    modalRef.result.then((selValues) => {\n      if (selValues === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Coluna ${selValues.itemExcluido.column} excluída da lista`;\n      let chgIndex = this.selectedTable.detalhes.findIndex(predicate => (predicate.tableName === selValues.itemExcluido.tableName && predicate.sequence === selValues.itemExcluido.sequence));\n      this.selectedTable.detalhes.splice(chgIndex, 1);\n\n    }, (reason) => {\n      this.lastChangeDesc = `Exclusão de Campo cancelado`;\n    });\n  }\n\n  popupRemoverCampoHeader(selectedItem: LayoutFieldDetail) {\n    // Modal de confirmação se a tabela será realmente removida\n    const modalRef = this.modalService\n      .open(ConfirmacaoItemModalContent, { ariaLabelledBy: 'Remover Campo Header', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'remove';\n    modalRef.componentInstance.selectedItem = selectedItem;\n\n    modalRef.result.then((selValues) => {\n      if (selValues === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Coluna ${selValues.itemExcluido.column} excluída do Header`;\n      let chgIndex = this.selectedHeader.findIndex(predicate => (predicate.tableName === selValues.itemExcluido.tableName && predicate.sequence === selValues.itemExcluido.sequence));\n      this.selectedHeader.splice(chgIndex, 1);\n\n    }, (reason) => {\n      this.lastChangeDesc = `Exclusão de Coluna do Header cancelada`;\n    });\n  }\n\n  popupRemoverCampoTrailler(selectedItem: LayoutFieldDetail) {\n    // Modal de confirmação se a tabela será realmente removida\n    const modalRef = this.modalService\n      .open(ConfirmacaoItemModalContent, { ariaLabelledBy: 'Remover Campo Trailler', windowClass: 'in' });\n\n    modalRef.componentInstance.actionType = 'remove';\n    modalRef.componentInstance.selectedItem = selectedItem;\n\n    modalRef.result.then((selValues) => {\n      if (selValues === null || selValues.result !== true)\n        return;\n\n      this.lastChangeDesc = `Coluna ${selValues.itemExcluido.column} excluída do Trailler`;\n      let chgIndex = this.selectedTrailler.findIndex(predicate => (predicate.tableName === selValues.itemExcluido.tableName && predicate.sequence === selValues.itemExcluido.sequence));\n      this.selectedTrailler.splice(chgIndex, 1);\n\n    }, (reason) => {\n      this.lastChangeDesc = `Alteração de critério cancelado`;\n    });\n  }\n\n  //popupInserirCriterio(): FormGroup {\n  popupInserirCriterio() {\n    this.contCriterios++;\n    let novoCriterio = new Criterio();\n    novoCriterio.tabela1 = this.selectedTable.alias.toUpperCase() || this.selectedTable.tabela.toUpperCase() || \"\";\n    novoCriterio.tabelaAlias1 = \"T\";\n    novoCriterio.field = \"\";\n    novoCriterio.operator = \".eq.\";\n    novoCriterio.field2Type = \"v\";\n    novoCriterio.field2 = \"\";\n    novoCriterio.tabela2 = this.selectedTable.tabelaAlias.toUpperCase() || \"\";\n    novoCriterio.sequence = this.contCriterios;\n    this.selectedTemplate.criterios.push(novoCriterio);\n    //return this.formBuilder.group(novoCriterio);\n  }\n\n  //popupInserirOrdenacao(): FormGroup {\n  popupInserirOrdenacao() {\n    this.contSorts++;\n    let novaOrdenacao = new Sort();\n    novaOrdenacao.sortField = '';\n    novaOrdenacao.sortType = 'ASC';\n    novaOrdenacao.sortBreak = '0';\n    novaOrdenacao.sequence = this.contSorts;\n    this.selectedTemplate.sorts.push(novaOrdenacao);\n    //return this.formBuilder.group(novaOrdenacao);\n  }\n\n  //popupInserirCampo(): FormGroup {\n  popupInserirCampo() {\n    this.contOrdemCampo++;\n    let novoCampo: any = {};\n    novoCampo.tableName = \"\";//this.selectedTable.alias.toUpperCase()|| this.selectedTable.tabela.toUpperCase() || \"\";\n    novoCampo.extractType = \"C\";\n    novoCampo.sequence = this.contOrdemCampo;\n    this.selectedTable.detalhes.push(novoCampo);\n    //return this.formBuilder.group(novoCampo);\n  }\n  //popupInserirCampoHeader(): FormGroup {\n  popupInserirCampoHeader() {\n    this.contOrdemCampoHeader++;\n    let novoCampoHeader: any = {};\n    novoCampoHeader.tableName = \"DUAL\";\n    novoCampoHeader.extractType = \"C\";\n    novoCampoHeader.sequence = this.contOrdemCampoHeader;\n    this.selectedHeader.push(novoCampoHeader);\n    //return this.formBuilder.group(novoCampoHeader);\n  }\n  //popupInserirCampoTrailler(): FormGroup {\n  popupInserirCampoTrailler() {\n    this.contOrdemCampoTrailler++;\n    let novoCampoTrailler: any = {};\n    novoCampoTrailler.tableName = \"DUAL\";\n    novoCampoTrailler.extractType = \"C\";\n    novoCampoTrailler.sequence = this.contOrdemCampoTrailler;\n    this.selectedTrailler.push(novoCampoTrailler);\n    //return this.formBuilder.group(novoCampoTrailler);\n  }\n\n  onSelectTabela(sequencia: number): void {\n    this.selectedTable = this.selectedTemplate.campos.find(item => item.sequencia == sequencia);\n    this.tableName = this.selectedTable.tabelaAlias;\n  }\n\n  /*drop(event: CdkDragDrop <LayoutFieldDetail[]>) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } \n    else {\n\n    transferArrayItem(event.previousContainer.data,\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex);\n    }\n  }*/\n  //--------------------------- Inicio Contadores -----------------------------------------//\n\n  private carregaContadorCriterios(): void {\n    this.selectedTemplate.criterios.forEach((item) => {\n      if (this.contCriterios < item.sequence) {\n        this.contCriterios = item.sequence;\n      }\n      this.selectedTemplate.campos.forEach((tabVal) => {\n        if (item.tabela1 === tabVal.tabelaAlias)\n          item.tabela1 = tabVal.alias;\n        if (item.tabela2 === tabVal.tabelaAlias && item.field2Type == 'c')\n          item.tabela2 = tabVal.alias;\n      });\n    })\n  }\n  private carregaContadorOrdernacao(): void {\n    this.selectedTemplate.sorts.forEach((item) => {\n      if (this.contSorts < item.sequence) {\n        this.contSorts = item.sequence;\n      }\n    })\n  }\n  private carregaContadorCampos(): void {\n    this.selectedTemplate.campos.forEach((item, index) => {\n      if (item.alias === undefined || item.alias === null) {\n        this.selectedTemplate.campos[index].alias = 'TAB' + index;\n        this.selectedTemplate.campos[index].tabela = item.tabelaAlias + \" TAB\" + index;\n      }\n      let campoTableName = this.selectedTemplate.campos[index].alias;\n      item.detalhes.forEach((itemDetail) => {\n        itemDetail.tableName = campoTableName;\n        if (this.contOrdemCampo < itemDetail.sequence) {\n          this.contOrdemCampo = itemDetail.sequence;\n        }\n      })\n    })\n  }\n\n  private qtdTotalCampos(): number {\n    let total:number = 0;\n    this.selectedTemplate.campos.forEach(item => total += item.detalhes.length)\n    return total;\n  }\n\n  private carregaContadorCamposHeader(): void {\n    this.selectedTemplate.headers.forEach((item) => item.detalhes.forEach((itemDetail) =>\n      this.contOrdemCampoHeader = (this.contOrdemCampoHeader < itemDetail.sequence) ? itemDetail.sequence : this.contOrdemCampoHeader\n    ))\n  }\n\n  private carregaContadorCamposTrailler(): void {\n    this.selectedTemplate.traillers.forEach((item) => item.detalhes.forEach((itemDetail) =>\n      this.contOrdemCampoTrailler = (this.contOrdemCampoTrailler < itemDetail.sequence) ? itemDetail.sequence : this.contOrdemCampoTrailler\n    ))\n  }\n\n  //--------------------------- Fim Contadores -----------------------------------------//\n  saveChanges() {\n    this.layoutsService.salvarTemplate(() => this.exit());\n  }\n\n  cancelChanges() {\n    this.layoutsService.rollbackChanges();\n  }\n\n  exit(): void {\n    this.router.navigate([this.goBackLink]);\n  }\n\n  clearData() {\n    this.errors = '';\n    this.selectedTable = new LayoutField();\n    this.selectedHeader = [];\n    this.selectedTrailler = [];\n    this.selectedTemplate = new Layout();\n\n\n    this.lastChangeDesc = '';\n    this.contOrdemCampo = 0;\n    this.contOrdemCampoHeader = 0;\n    this.contOrdemCampoTrailler = 0;\n    this.contSorts = 0;\n    this.contCriterios = 0;\n\n  }\n\n  clearColumnList(){\n    if (this.tableName != '')\n      this.tableName = \"\";\n  }\n\n}\n","import {Directive, EventEmitter, Input, Output} from '@angular/core';\r\n\r\nexport type SortDirection = 'asc' | 'desc' | '';\r\nconst rotate: {[key: string]: SortDirection} = { 'asc': 'desc', 'desc': '', '': 'asc' };\r\n\r\nexport interface SortEvent {\r\n  column: string;\r\n  direction: SortDirection;\r\n}\r\n\r\n@Directive({\r\n  selector: 'th[sortable]',\r\n  host: {\r\n    '[class.asc]': 'direction === \"asc\"',\r\n    '[class.desc]': 'direction === \"desc\"',\r\n    '(click)': 'rotate()'\r\n  }\r\n})\r\nexport class NgbdSortableHeader {\r\n\r\n  @Input() sortable: string;\r\n  @Input() direction: SortDirection = '';\r\n  @Output() sort = new EventEmitter<SortEvent>();\r\n\r\n  rotate() {\r\n    this.direction = rotate[this.direction];\r\n    this.sort.emit({column: this.sortable, direction: this.direction});\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { DecimalPipe, DatePipe } from '@angular/common';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Previa } from '../models/previa.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n//import * as jsPDF from 'jspdf';\r\n\r\ndeclare var jsPDF: any;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PDFService {\r\n\r\n  private _pdfPath: string = 'PreviaExtracao.pdf';\r\n  private _pdfConfig: any = {\r\n    orientation: 'landscape',\r\n    unit: 'px',\r\n    format: [600, 800]\r\n  };\r\n  \r\n  private _pdfValues: any = {\r\n    total: 0,\r\n    previas: [],\r\n    filtros: [],\r\n    header: '',\r\n    linesize: 800\r\n  };\r\n\r\n\r\n  constructor(private toastr: ToastrService,\r\n              private datePipe: DatePipe) { }\r\n\r\n  set orientation(page: number) { this._setConfig({ page }); }\r\n  set unit(unit: string) { this._setConfig({ unit }); }\r\n  set format(format: string | Array<number>) { this._setConfig({ format }); }\r\n  set pageSize(pageSize: number) { this._setConfig({ pageSize }); }\r\n  set nomeSearchTerm(nomeSearchTerm: string) { this._setConfig({ nomeSearchTerm }); }\r\n\r\n  set total(total: number) { this._setValue({ total }); }\r\n  set previas(previas: Previa[]) { this._setValue({ previas }); }\r\n  set filtros(filtros: string[]) { this._setValue({ filtros }); }\r\n  set header(header: string) { this._setValue({ header }); }\r\n  set nomeArquivo(nomeArquivo: string) { this._pdfPath = nomeArquivo; }\r\n\r\n  private _setConfig(patch: Partial<any>) {\r\n    Object.assign(this._pdfConfig, patch);\r\n  }\r\n\r\n  private _setValue(patch: Partial<any>) {\r\n    Object.assign(this._pdfValues, patch);\r\n  }\r\n\r\n  requestPdf() {\r\n      if (this._pdfValues.previas.length < 1) {\r\n          let msg = `Não há nenhum item para imprimir!`;\r\n          this.toastr.error(msg, \"Erro:\");\r\n          return false;\r\n      }\r\n      \r\n      if (this._pdfValues.filtros.length < 1) {\r\n          var filtros = [\"Sem filtros\"];\r\n          this._setValue({ filtros });\r\n      }\r\n      this.generatePdf();\r\n      return true;\r\n      \r\n  };\r\n\r\n  private generatePdf() {\r\n    let linhaTxt = \"\";\r\n    let linha = 36;//Controle de linhas\r\n    let j = 0;\r\n    let pagina = 0;//Controle de Numeracao Paginas\r\n    let filtros = 0;\r\n    // draw line\r\n    //const nameLength = (doc.getTextDimensions(name).w / (72 / 25.6) ) + 2;\r\n    //console.log('nameLength', nameLength); // todo remove\r\n\r\n\r\n    let doc = new jsPDF(this._pdfConfig);\r\n    doc.setDisplayMode('fullwidth');\r\n    //doc.setMargins(5, 5, 5, 5);\r\n    doc.setFont(\"courier\", \"normal\");\r\n    doc.setFontSize(10);\r\n\t  doc.setLineWidth(0.25);\r\n\r\n    let lineWidth = doc.internal.pageSize.getWidth()-10;\r\n\r\n    for (let i = 0; i < this._pdfValues.previas.length; i++) {\r\n\r\n      var previa:Previa = this._pdfValues.previas[i];\r\n      //Controle de cabeçalho, linhas e pagina\r\n      if (j == 0) {\r\n        pagina++;\r\n        if (pagina > 1)\r\n          doc.addPage();\r\n        doc.setFont(\"courier\", \"normal\");\r\n        //Cabeçalho\r\n        linha = 12;\r\n\r\n        var now = new Date();\r\n        doc.text(this.datePipe.transform(now, 'dd/MM/yyyy') + \"                                 PREVIA DE EXTRAÇÃO                                                          PAG -\" + pagina.toString().padStart(7), 10, linha);\r\n        linha = linha + 4; //\"                                                                                                              \"\r\n        doc.text(this.datePipe.transform(now, 'HH:mm:ss') + \"                                                                                                              \", 10, linha);\r\n        linha = linha + 4;\r\n        //doc.text(\"                                           PREVIA DE EXTRAÇÃO                                                    \",1,linha);//+objRenegociacaoAtual.dtMovimento,1,20);\r\n        //linha = linha + 4;\r\n        doc.line(10, linha, lineWidth, linha, \"FD\");\r\n        //doc.text(tracejado, 10, linha);\r\n        j = 39;\r\n        if (filtros == 0) {\r\n          filtros = 1;\r\n          linha = linha + 4;\r\n          doc.text(\"FILTROS UTILIZADOS\", 10, linha);\r\n          for (let x = 0; x < this._pdfValues.filtros.length; x++) {\r\n            linha = linha + 4;\r\n            doc.text(this._pdfValues.filtros[x], 10, linha);\r\n            j--;\r\n          }\r\n          linha = linha + 4;\r\n          //doc.text(tracejado, 10, linha);\r\n          j--;\r\n        }\r\n        doc.setLineWidth(0.5);\r\n\t\t    doc.rect(10, linha, lineWidth-10, 12,  \"S\");\r\n        doc.setLineWidth(0.25);\r\n        linha = linha + 4;\r\n        doc.text(\" NUM LINHA         LINHA\", 10, linha);\r\n        linha = linha + 4;\r\n        //linha = linha + 4;\r\n      }\r\n      pagina.toString().padStart(7);\r\n      linhaTxt = \"\" + linhaTxt + previa.nrLinha.toString().padStart(4);\r\n      linhaTxt = \"\" + linhaTxt + previa.linha.padEnd(3000);\r\n      doc.text(linhaTxt, 10, linha);\r\n      \r\n      //linha final pagina\r\n      if (j == 2) {\r\n        linha = linha + 4;\r\n        doc.line(10, linha, lineWidth, linha, \"FD\");\r\n        //doc.text(tracejado, 10, linha);\r\n        j--;\r\n      }\r\n      linha = linha + 4;\r\n      j--;\r\n    }\r\n    //Verifica se esta terminando as linhas das paginas e insere um novo cabeçalho\r\n    if (j <= 4) {\r\n      doc.line(10, linha, lineWidth, linha, \"FD\");\r\n      //doc.text(tracejado, 10, linha);\r\n      pagina++;\r\n      doc.addPage();\r\n      doc.setFont(\"courier\", \"normal\");\r\n      //Cabeçalho\r\n      linha = 12; \r\n\r\n      var now = new Date();\r\n      doc.text(this.datePipe.transform(now, 'dd/MM/yyyy') + \"                                 PREVIA DE EXTRAÇÃO                                                          PAG -\" + pagina.toString().padStart(7), 10, linha);\r\n      linha = linha + 4; //\"                                                                                                              \"\r\n      doc.text(this.datePipe.transform(now, 'HH:mm:ss') + \"                                                                                                              \", 10, linha);\r\n      linha = linha + 4;\r\n      doc.line(10, linha, lineWidth, linha, \"FD\");\r\n      //doc.text(tracejado, 10, linha);\r\n      j = 39;\r\n      if (filtros == 0) {\r\n        filtros = 1;\r\n        linha = linha + 4;\r\n        doc.text(\"FILTROS UTILIZADOS\", 10, linha);\r\n        for (let x = 0; x < this._pdfValues.filtros.length; x++) {\r\n          linha = linha + 4;\r\n          doc.text(this._pdfValues.filtros[x], 10, linha);\r\n          j--;\r\n        }\r\n        linha = linha + 4;\r\n        j--;\r\n      }\r\n      doc.setLineWidth(0.5);\r\n      doc.rect(10, linha, lineWidth-10, 12,  \"S\");\r\n      doc.setLineWidth(0.25);\r\n      linha = linha + 4;\r\n      doc.text(\" NUM LINHA         LINHA\", 10, linha);\r\n      linha = linha + 4;\r\n      doc.line(10, linha, lineWidth, linha, \"FD\");\r\n      linha = linha + 4;\r\n      linha = 36;\r\n      doc.line(10, linha, lineWidth, linha, \"FD\");\r\n      linha = linha + 4;\r\n      linhaTxt = \"Total:\";\r\n      linhaTxt = linhaTxt + this._pdfValues.previas.length.toString().padStart(48);\r\n      doc.text(linhaTxt, 10, linha);\r\n    }\r\n    else {\r\n      //Verifica se foi inserida a linha final da pagina\r\n      doc.setLineWidth(0.5);\r\n      doc.line(10, linha, lineWidth, linha, \"FD\");\r\n      linha = linha + 4;\r\n      linhaTxt = \"Total:\";\r\n      linhaTxt = linhaTxt + this._pdfValues.previas.length.toString().padStart(48);\r\n      doc.text(linhaTxt, 10, linha);\r\n    }\r\n    doc.save(this._pdfPath);\r\n  }\r\n\r\n\r\n\t/**\r\n\t * Handle Http operation that failed.\r\n\t * Let the app continue.\r\n\t * @param operation - name of the operation that failed\r\n\t * @param result - optional value to return as the observable result\r\n\t */\r\n  private handleError<Remuneracao>(operation = 'operation', result?: Remuneracao) {\r\n    return (error: any): Observable<Remuneracao> => {\r\n\r\n      // TODO: send the error to remote logging infrastructure\r\n      console.error(error); // log to console instead\r\n\r\n      // TODO: better job of transforming error for user consumption\r\n      console.log(`${operation} failed: ${error.message}`);\r\n\r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as Remuneracao);\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\n\nimport { SearchResult } from '../models/search-result.model';\nimport { State } from '../models/state.model';\n//import { Observable, of } from 'rxjs';\n//import { catchError, map, tap } from 'rxjs/operators';\nimport { BehaviorSubject, Observable, of, Subject, throwError, Subscription } from 'rxjs';\nimport { catchError, debounceTime, delay, switchMap, tap, take, finalize, takeWhile } from 'rxjs/operators';\n\nimport { SortDirection } from '../directives/sortable.directive';\nimport { Previa } from '../models/previa.model';\nimport { HandleError, HttpErrorHandler } from './http-error-handler.service';\nimport { ToastrService } from 'ngx-toastr';\n\nimport { PDFService } from './pdf.service';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\nfunction compare(v1, v2) {\n  return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\n}\n\nfunction sort<Previa>(items: Previa[], column: string, direction: string): Previa[] {\n  if (direction === '') {\n    return items;\n  } else {\n    return [...items].sort((a, b) => {\n      const res = compare(a[column], b[column]);\n      return direction === 'asc' ? res : -res;\n    });\n  }\n}\n\nfunction matches(value: any, text: string) {\n  const term = text.toLowerCase();\n  let item: Previa = value as Previa;\n  return item.linha.toLowerCase().includes(term);\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PreviaService{\n  //Serviço java de busca das asssessorias deve ser desmembrado em um recurso previa específico\n\n//private backendEndpoint = ProjectConfigService.settings.consoleEndpoint;\n  private resourceName = 'previa';\n  private handleError: HandleError;\n  \n  private listaItems: Array<Previa> = [];\n  private _loading$ = new BehaviorSubject<boolean>(false);\n  private _search$ = new Subject<void>();\n  private _items$ = new BehaviorSubject<Previa[]>([]);\n  private _total$ = new BehaviorSubject<number>(0);\n  private _serviceName = \"Previa\";\n  private _qtdlines = 20;\n\n\n  private _state: State = {\n    page: 1,\n    pageSize: 10,\n    searchTerm: '',\n    registro: '',\n    sortColumn: '',\n    sortDirection: ''\n  };\n\n  constructor(\n    \n              private http: HttpClient,\n              private httpErrorHandler: HttpErrorHandler,\n              private pdfHandlerService: PDFService,\n              private toastr: ToastrService) {\n      this.handleError= httpErrorHandler.createHandleError(this._serviceName);\n      \n      this._search$.pipe(\n        tap(() => this._loading$.next(true)),\n        debounceTime(200),\n        switchMap(() => this._search()),\n        delay(200),\n        tap(() => this._loading$.next(false))\n      ).subscribe(result => {\n        this._items$.next(result.items);\n        this._total$.next(result.total);\n      });\n\n      this.listaItems = [];\n  }\n\n  get items$() { return this._items$.asObservable(); }\n  get total$() { return this._total$.asObservable(); }\n  get loading$() { return this._loading$.asObservable(); }\n  get page() { return this._state.page; }\n  get pageSize() { return this._state.pageSize; }\n  get searchTerm() { return this._state.searchTerm; }\n  get registro() { return this._state.registro; }\n  get qtdLines() { return this._qtdlines; }\n\n  set page(page: number) { this._set({ page }); }\n  set pageSize(pageSize: number) { this._set({ pageSize }); }\n  set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\n  set registro(registro: string) { this._set({ registro }); }\n  set qtdLines(qtdLines: number) { this._qtdlines = qtdLines; }\n  \n  set sortColumn(sortColumn: string) { this._set({ sortColumn }); }\n  set sortDirection(sortDirection: SortDirection) { this._set({ sortDirection }); }\n\n  private _set(patch: Partial<State>) {\n    Object.assign(this._state, patch);\n    this._search$.next();\n  }\n\n  private _search(): Observable<SearchResult<Previa>> {\n    const { sortColumn, sortDirection, pageSize, page, searchTerm } = this._state;\n\n    // 1. sort\n    let items = sort(this.listaItems, sortColumn, sortDirection);\n\n    if (searchTerm != null ||  searchTerm.trim().length > 0){\n      // 2. filter\n      items = items.filter(item => matches(item, searchTerm));\n    }\n    const total = items.length;\n\n    // 3. paginate\n    //items = items.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\n\n    //this.messageService.add(\"success\", this._serviceName + \": Lista de items selecionados\");\n\n    return of({ items, total });\n\n  }\n\n  getResourceName():string{\n    return 'previa';\n  }\n  \n  load(exportId: string, qtdLines: number): void {\n    this.registro = exportId;\n    this.pageSize = qtdLines;\n    \n    if(exportId !== undefined && exportId.trim() !== '' && qtdLines > 0){  \n      this._loading$.next(true);\n      this.loadItems(exportId, qtdLines)\n            .subscribe(items => {\n              this.listaItems = items;\n              this._items$.next(items);\n            });\n      return;\n    }\n\n    this.listaItems = [];\n    this._items$.next(this.listaItems);\n    \n    /*let items = [];\n    for (let index = 0; index < 500; index++) {\n      items.push({\"nrLinha\":index, \"linha\": this.randomString(300, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ')});\n    }\n    this.listaItems = items;\n    this._items$.next(items);\n    this._search$.next();\n    */\n  }\n\n  loadItems(exportId: string, qtdLines: number):Observable<Previa[]>{ \n    //this.messageService.add(\"info\", this._serviceName + \" Lista de items selecionados\");\n    console.log(this._serviceName + \" Lista de items selecionados\");\n    //let options = {headers: new HttpHeaders().set('Authorization', this.jwtService.getToken())};\n   \n    //return this.http.get<Previa[]>(`${this.resourceName}/${exportId}/${qtdLines}`);\n    let retVal = this.http.get<Previa[]>(`${this.resourceName}/${exportId}?quantidade=${qtdLines}`,{ headers: new HttpHeaders({ timeout: `${300000}` }) });\n \n    return retVal.pipe(\n      finalize(() => this._loading$.next(false)),\n      tap(items => console.log(`fetched []${items}] items `)),\n      catchError(this.handleError<Previa[]>('Request'))\n    );\n  }\n\n\n\n/*\n  filter(term: string): Observable<Previa[]> {\n    if (!term.trim()) {\n      return this.load();\n    }\n    const url = `${this.config.getSettings().extratorEndpoint}/${term}`;\n    return this.config.load().pipe(\n      take(1),\n      switchMap(\n          (configData):Observable<Previa[]> =>\n              this.http.get<Previa[]>(configData.conppwPadraoEndpoint+url)\n    )));\n  }\n*/\n/**\n\t * Handle Http operation that succeded.\n\t * @param operation - name of the operation that succeded\n\t * @param result - Result value to return as the observable\n\t */\n  private log<Previa>(operation: string, result: Previa) {\n    // TODO: better job of transforming error for user consumption\n    console.log(`${operation} succeded`);\n\n    // Let the app keep running by returning an empty result.\n    //return of(result as T);\n    return result;\n  }\n\n\t/**\n\t * Handle Http operation that failed.\n\t * Let the app continue.\n\t * @param operation - name of the operation that failed\n\t * @param result - optional value to return as the observable result\n\t */\n  private logError(operation: string, result: HttpErrorResponse) {   \n    // TODO: send the error to remote logging infrastructure\n    if (result.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', result.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      if (result.status == 204){\n        this.toastr.error(`Prévia não identificou nenhum registro. [${result.status}]`, \"CyberMessenger\");\n      }\n      console.error(\n        `Backend returned code ${result.status}, ` +\n        `body was: ${result.error}`);\n    }\n    \n    // TODO: better job of transforming error for user consumption\n    console.log(`${operation} failed: ${result.message}`);\n\n    // Let the app keep running by returning an empty result.\n    //return of(result as T);\n    return throwError('Tente novamente mais tarde.');\n  }\n\n  private randomString(length, chars) {\n    var result = '';\n    for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n    return result;\n  }\n\n}","import { Component, OnInit, ViewChildren, QueryList, OnDestroy } from '@angular/core';\r\n\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { Observable, Subscription } from 'rxjs';\r\n\r\n\r\nimport { NgbdSortableHeader, SortEvent } from '../directives/sortable.directive';\r\nimport { Previa } from '../models/previa.model';\r\n\r\nimport { PreviaService } from '../services/previa.service';\r\nimport { PDFService } from '../services/pdf.service';\r\n\r\nimport { faSort, faPlus, faTrashAlt, faPencilAlt, faSearch, faFileInvoice, faPortrait, faEye, faCog } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'previa-arquivo-extracao',\r\n  templateUrl: './previa-arquivo-extracao.component.html',\r\n  styleUrls: ['../extrator-web.component.scss']\r\n})\r\nexport class PreviaArquivoExtracaoComponent implements OnInit, OnDestroy {\r\n  goBackLink: string;\r\n  openType: string;\r\n\r\n  title = '';\r\n  resourceName = '/';\r\n  faPlus = faPlus;\r\n  faPencilAlt = faPencilAlt;\r\n  faTrashAlt = faTrashAlt;\r\n  faSearch = faSearch;\r\n  faSort = faSort;\r\n  faFileInvoice = faFileInvoice;\r\n  faPortrait = faPortrait;\r\n  faEye  = faEye;\r\n  faCog = faCog;\r\n\r\n  showLoading: boolean = false;\r\n  previaLoading$: Observable<boolean>;\r\n  selectedItems$: Observable<Previa[]>;\r\n  itemSubscription: Subscription;\r\n  previaSubs: Subscription;\r\n\r\n  exportId: string = \"\";\r\n  qtdLines: number = 20;\r\n\r\n  static LOCALE_KEY = 'currentLocale';\r\n\r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n  constructor(private route: ActivatedRoute,\r\n              private router: Router,\r\n              private objService: PreviaService,\r\n              private pdfHandlerService: PDFService,\r\n              private toastr: ToastrService,\r\n              public translate: TranslateService) {\r\n    \r\n    this.resourceName = '/'+ objService.getResourceName();\r\n  \r\n    this.previaLoading$ = this.objService.loading$;\r\n    this.previaSubs = this.previaLoading$.subscribe((status)=>{\r\n      this.showLoading = status;\r\n    });\r\n\r\n    translate.setDefaultLang('ptBR');\r\n    const currentLocale =  sessionStorage.getItem(PreviaArquivoExtracaoComponent.LOCALE_KEY);\r\n    \r\n    translate.setDefaultLang(currentLocale);\r\n    \r\n    this.selectedItems$ = this.objService.items$;\r\n\r\n  }\r\n\r\n  \r\n  get searchTerm() { return this.objService.searchTerm; }\r\n  set searchTerm(searchTerm: string) {  this.objService.searchTerm = searchTerm; }\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n\r\n    // sorting items\r\n    this.objService.sortColumn = column;\r\n    this.objService.sortDirection = direction;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.goBackLink = '/' + this.objService.getResourceName();\r\n    this.openType = this.route.snapshot.paramMap.get('openType');\r\n    this.exportId = this.route.snapshot.paramMap.get('exportId');\r\n    \r\n    if (this.exportId === null){\r\n      let msg =  `Template inválido!`; \r\n      this.toastr.error(msg, \"Erro:\");\r\n    }else{\r\n      this.itemSubscription = this.selectedItems$.subscribe(response => {\r\n        this.pdfHandlerService.previas = (response!=undefined)?response:[];\r\n        this.pdfHandlerService.total = (response!=undefined && response!=null)?response.length:0;\r\n        console.log('Previa atualizada com sucesso');\r\n      }, error => {\r\n        //let msg = `Erro ao executar prévia do template  ${this.exportId}. Tente novemente!`;\r\n        //this.toastr.error(msg, \"CyberMessenger\");\r\n        console.log('Erro ao atualizar a lista: ' + error.error.message);\r\n        this.exit();\r\n      });  \r\n      this.refreshList();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    console.log('Cleaning Previa...');\r\n    if (this.itemSubscription != undefined) this.itemSubscription.unsubscribe();\r\n    if (this.previaSubs != undefined) this.previaSubs.unsubscribe();\r\n  }\r\n\r\n  refreshList(){\r\n    this.objService.load(this.exportId, this.qtdLines);\r\n  }\r\n  \r\n  gerarPDF(): void {\r\n      this.pdfHandlerService.requestPdf();\r\n\t}\r\n  \r\n  exit() {\r\n    this.router.navigate([this.goBackLink]);\r\n  }\r\n}\r\n","export const release = {\n    cliente: 'default',\n    projectName: 'extrator-web',\n    version: '9.0.787'\n};\n                        ","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { LayoutsService } from './services/layouts.service';\nimport { faSync, faTimes, faCog } from '@fortawesome/free-solid-svg-icons';\nimport { ActivatedRoute, Router} from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { release } from '../environments/release';\n\n@Component({\n  selector: 'lib-root',\n  templateUrl: './extrator-web.component.html',\n  styleUrls: ['./extrator-web.component.scss']\n})\nexport class ExtratorWebComponent implements OnInit, OnDestroy {\n\n  goBackLink: string;\n  openType: string = \"\";\n  resourceId: string = \"\";\n  faSync = faSync;\n  faTimes = faTimes;\n  faCog = faCog;\n\n  showLoading: boolean = false;\n  extratorServiceEndpoint: string = \"\";\n  arqLoading$: Observable<boolean>;\n\n  loadSubs:Subscription;\n  release: string = release.version;\n\n  constructor(private route: ActivatedRoute,\n    private objService: LayoutsService,\n    private router: Router) {\n      this.arqLoading$ = this.objService.loading$;\n      this.loadSubs = this.arqLoading$.subscribe((status)=>{\n        this.showLoading = status;\n      });\n      this.goBackLink = '/' + this.objService.getResourceName();\n    //this.objService.setEndpoint();\n  }\n\n  ngOnInit() {\n    \n    this.route.params.subscribe(params => {\n      console.log(params)\n      //this.openType = params.get(\"openType\");\n      //this.resourceId = params.get(\"code\");\n    });\n    //console.log(\" Usuário conectado: \" + this.objService.getUsername());\n  }\n\n  ngOnDestroy() {\n    console.log('Cleaning Layout...');\n    if (this.loadSubs != undefined) this.loadSubs.unsubscribe();\n  }\n  //get routeList$() { return this._routeList$.asObservable(); }\n  /*getAnimationData(outlet: RouterOutlet) {\n    return outlet && outlet.activatedRouteData; //&& outlet.activatedRouteData['animation'];\n  }*/\n\n}\n","export const serviceUrls = {\n    templateUrl: 'template',\n    lovValsUrl: 'lovvals'\n}","import { serviceUrls } from './services'; \n                        export const environment = {\n                            cliente: 'PADRAO',\n                            projectName: 'extrator-web',\n                            package: 'conppwPadraoC9-war',\n                            consoleEndpoint:  '/cyberconsole/',\n                            conppwPadraoEndpoint: '/conppwPadraoC9-war/ppwpadrao/v9/',\n                            extratorEndpoint:  '/extratorWeb/api/v9/',\n                            localeUrlFolder:  '/conppwPadraoC9-war/assets/i18n/extrator-web/',\n                            localeFileType:  '.json',\n                            configFileURL:  '/conppwPadraoC9-war/assets/appconfig.json',\n                            allowedDomains: [\"\"],\n                            disallowedRoutes: [\"\"],\n                            SESSION_STORAGE_TOKEN: 'auth-token',\n                            dynamicEnv: false,\n                            timeout: 60000,\n                            serviceUrls: serviceUrls\n                        };\n                        ","\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport { tap } from 'rxjs/operators';\nimport { throwError, Observable } from 'rxjs';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nexport interface IAppConfig {\n    cliente: string;\n    package: string;\n    conppwPadraoEndpoint: string;\n    extratorEndpoint: string;\n    consoleEndpoint: string;\n    modules?:Array<string>;\n    configFileURL: string;\n    localeUrlFolder: string;\n    localeFileType: string;\n    dynamicEnv: boolean;\n    timeout: number;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ProjectConfigResolver implements Resolve<IAppConfig> {\n    private _serviceName: string = 'ProjectConfigService';\n\n    static settings: IAppConfig = environment;\n    static loaded: boolean = false;\n\n    constructor(private http: HttpClient) {\n    }\n\n    resolve(\n        route: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot\n    ): Observable<IAppConfig> | Promise<IAppConfig> | IAppConfig {\n        if (!ProjectConfigResolver.settings.dynamicEnv)\n            ProjectConfigResolver.loaded = true;\n\n        if (ProjectConfigResolver.loaded)\n            return ProjectConfigResolver.settings;\n\n        return this.http.get<IAppConfig>(environment.configFileURL).pipe(\n            tap(data => {\n                this.log(`${this._serviceName}/load`, data);\n                ProjectConfigResolver.overrideStaticConfiguration(<IAppConfig>data);\n                ProjectConfigResolver.loaded = true;\n            }, error => {\n                console.log(`Could not load file '${environment.configFileURL}': ${JSON.stringify(error)}`);\n                this.logError(`${this._serviceName}/load`, error)\n            }));\n    }\n\n\n    private static overrideStaticConfiguration(configObject: IAppConfig) {\n        ProjectConfigResolver.settings = configObject;\n        for (let key in configObject) {\n            if (configObject.hasOwnProperty(key)) {\n                environment[key] = configObject[key];\n            }\n        }\n    }\n\n    private log<T>(operation: string, result: T) {\n        //console.log(`Carga de configurações realizada: ${operation} `);\n\n        return result;\n    }\n\n    private logError(operation: string, result: HttpErrorResponse) {\n        // TODO: send the error to remote logging infrastructure\n        if (result.error instanceof ErrorEvent) {\n            // A client-side or network error occurred. Handle it accordingly.\n            console.error('An error occurred:', result.error.message);\n        } else {\n            // The backend returned an unsuccessful response code.\n            // The response body may contain clues as to what went wrong,\n            console.error(\n                `Backend returned code ${result.status}, ` +\n                `body was: ${result.error}`);\n        }\n\n        console.log(`${operation} failed: ${result.message}`);\n\n        // Let the app keep running by returning an empty result.\n        //return of(result as T);\n        return throwError(\n            'Something bad happened; please try again later.');\n    }\n\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ArquivoExtracaoListComponent } from './list/arquivo-extracao-list.component';\r\nimport { PreviaArquivoExtracaoComponent } from './previa/previa-arquivo-extracao.component';\r\nimport { ArquivoExtracaoEditComponent } from './editor/arquivo-extracao-edit.component';\r\nimport { ExtratorWebComponent } from './extrator-web.component';\r\nimport { ProjectConfigResolver } from './interceptors/project.config.resolver';\r\n\r\n/*\r\narquivoExtracao (ExtratorWebComponent)\r\ncadastroArquivoExtracao (CadastroArquivoExtracaoComponent)\r\nconsultaArquivoExtracao\r\n\r\npopupCadastroArquivoExtracao\r\npopupCamposTabela\r\npopupPreviaArquivoExtracao\r\npopupOperadores\r\npopupIncluirRegistro\r\npopupCamposTabelaCriterios\r\npopupIncluirArquivo\r\npopupCamposTabelaGeral\r\npopupDefinicaoCriterios\r\npopupCamposTabelaAlias\r\npopupFuncoes\r\npopupDefinicaoOrdem\r\n*/\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n      RouterModule.forChild([\r\n        {path: '', component: ExtratorWebComponent,\r\n          children: [\r\n            {path: '', component: ArquivoExtracaoListComponent},\r\n            {path: ':exportId',component: PreviaArquivoExtracaoComponent},\r\n            {path: ':exportId/:registro',component: ArquivoExtracaoEditComponent}\r\n          ],resolve: {\r\n            envConfiguration: ProjectConfigResolver\r\n          }\r\n        }\r\n    ])\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class ExtratorWebRoutingModule { }\r\n","import {MissingTranslationHandler, MissingTranslationHandlerParams} from '@ngx-translate/core';\r\n\r\nexport class PPWMissingTranslationHandler implements MissingTranslationHandler {\r\n    handle(params: MissingTranslationHandlerParams) {\r\n        return 'Sem texto';\r\n    }\r\n}","import { Component, Input, OnInit,ViewChildren, QueryList } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { faSort, faSortUp, faSortDown, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { NgbdSortableHeader, SortEvent } from '../directives/sortable.directive';\nimport { LovVals } from '../models/lovvals.model';\nimport { Observable, Subject, BehaviorSubject, of } from 'rxjs';\nimport { delay, switchMap, debounceTime, tap } from 'rxjs/operators';\nimport { SearchResult } from '../models/search-result.model';\n\nfunction compare(v1, v2) {\n  return v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\n}\n\nfunction sort(items: LovVals[], column: string, direction: string): LovVals[] {\n  if (direction === '') {\n    return items;\n  } else {\n    return [...items].sort((a, b) => {\n      const res = compare(a[column], b[column]);\n      return direction === 'asc' ? res : -res;\n    });\n  }\n}\n\nfunction matches(valor: LovVals, text: string, type: string) {\n  return valor.id===type\n    && (text.length>0 || valor.codigo.toLowerCase().includes(text));\n}\n\n\n@Component({\n    selector: 'seleciona-funcao-content', \n    templateUrl: './seleciona-funcao.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class SelecionaFuncaoModalContent implements OnInit{\n    @Input() actionType:string = \"\"; // Include-Remove-Change\n    // text-dropdown\n    @Input() selectedFunction: string= \"\";\n    @Input() actionSelectList:Array<LovVals> = [];\n\n    private _search$ = new Subject<void>();\n    private _actionSelectList$ = new BehaviorSubject<LovVals[]>([]);\n    \n    private _state = {\n      searchTerm: '',\n      sortColumn: '',\n      sortDirection: ''\n    };\n\n    selectedValue: LovVals = null;\n    faSort = faSort;\n    faSearch = faSearch;\n    @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\n    constructor(\n      public activeModal: NgbActiveModal) {\n        this._search$.pipe(\n          debounceTime(200),\n          switchMap(() => this._search()),\n          delay(200)\n        ).subscribe(result => {\n          this._actionSelectList$.next(result.items);\n        });\n    }\n    \n\n    get actionSelectList$() { return this._actionSelectList$.asObservable(); }\n    get searchTerm() { return this._state.searchTerm; }\n    get sortColumn() { return this._state.sortColumn; }\n    get sortDirection() { return this._state.sortDirection; }\n    set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\n    set sortColumn(sortColumn: string) { this._set({ sortColumn }); }\n    set sortDirection(sortDirection: string) { this._set({ sortDirection }); }\n    \n    private _set(patch: Partial<any>) {\n      Object.assign(this._state, patch);\n      this._search$.next();\n    }\n  \n    private _search(): Observable<SearchResult<LovVals>> {\n      const { searchTerm } = this._state;\n  \n      // 1. sort\n      //let arquivos = sort(this.listaValores, sortColumn, sortDirection);\n  \n      // 2. filter\n      let items = this.actionSelectList.filter(item => matches(item, searchTerm,this.actionType));\n      const total = items.length;\n  \n      // 3. paginate\n      //templates = templates.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\n  \n      //this.messageService.add(\"success\", this._serviceName + \": Lista de items selecionados\");\n  \n      return of({ items, total });\n  \n    }\n\n    onSort({ column, direction }: SortEvent) {\n      // resetting other headers\n      this.headers.forEach(header => {\n        if (header.sortable !== column) {\n          header.direction = '';\n        }\n      });\n  \n      // sorting items\n      //this.tabService.sortColumn = column;\n      //this.tabService.sortDirection = direction;\n    }\n      \n    onSaveItem(){\n        this.activeModal.close({'actionType': this.actionType,'result':true,'selected':this.selectedValue});\n    }\n\n    onSelectItem(func: LovVals){\n      this.selectedValue = func;\n    }\n\n    ngOnInit(): void {\n      this._search$.next();\n    }\n    \n  }","import { Component, Input, OnInit, ViewChildren, QueryList } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { faSort, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { Observable, BehaviorSubject, Subject, of, Subscription } from 'rxjs';\nimport { Campo } from '../models/campo.model';\nimport { NgbdSortableHeader, SortEvent } from '../directives/sortable.directive';\nimport { TabelasService } from '../services/tabelas.service';\nimport { debounceTime, switchMap, delay } from 'rxjs/operators';\nimport { SearchResult } from '../models/search-result.model';\n\n@Component({\n    selector: 'campotabela-modal-content', \n    templateUrl: './campotabela.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class CampoTabelaModalContent implements OnInit{\n    @Input() actionType:string = \"\"; // Include-Remove-Change\n    @Input() tabela:string = \"\"; // Include-Remove-Change\n    @Input() selectedCampo: string= \"\";\n    // text-dropdown\n    \n    actionSelectList:Array<Campo> = [];\n    //actionSelectList$:Observable<Campo[]>; // Include-Remove-Change\n    selectedValue: Campo; \n\n    private _search$ = new Subject<void>();\n    private _actionSelectList$ = new BehaviorSubject<Campo[]>([]);\n    \n    private _state = {\n      searchTerm: '',\n      sortColumn: '',\n      sortDirection: ''\n    };\n\n    faSearch = faSearch;\n    faSort = faSort\n    @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\n    constructor(\n      private tabService: TabelasService,\n      public activeModal: NgbActiveModal) {\n        this._search$.pipe(\n          debounceTime(200),\n          switchMap(() => this._search()),\n          delay(200)\n        ).subscribe(result => {\n          this._actionSelectList$.next(result.items);\n        });\n      }\n\n    get actionSelectList$() { return this._actionSelectList$.asObservable(); }\n    get searchTerm() { return this._state.searchTerm; }\n    set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\n\n    private _set(patch: Partial<any>) {\n      Object.assign(this._state, patch);\n      this._search$.next();\n    }\n\n    private _search(): Observable<SearchResult<Campo>> {\n      const { searchTerm } = this._state;\n  \n      // 2. filter\n      let items = this.actionSelectList.filter((item) => {\n        return searchTerm.length>0 && item.column.toLowerCase().includes(searchTerm);\n      });\n      const total = items.length;\n  \n      return of({ items, total });\n  \n    }\n    \n    onSort({ column, direction }: SortEvent) {\n      // resetting other headers\n      this.headers.forEach(header => {\n        if (header.sortable !== column) {\n          header.direction = '';\n        }\n      });\n  \n      // sorting items\n      this.tabService.sortColumn = column;\n      this.tabService.sortDirection = direction;\n    }\n    \n    onSaveItem(){\n      this.activeModal.close({'actionType': this.actionType,'result':true,'selected':this.selectedValue});\n    }\n\n    onSelectItem(campo:Campo){\n      this.selectedValue = campo;\n    }\n\n    ngOnInit(): void {\n      let colItemsSubs: Subscription = this.tabService.getColunasTabela(this.tabela)\n        .subscribe(items => {\n          this.actionSelectList = items;\n          this._actionSelectList$.next(this.actionSelectList);\n          if(this.selectedCampo!==null && items.length > 0)\n            this.selectedValue = items.find(item => this.selectedCampo.trim() === item.column);\n          colItemsSubs.unsubscribe();\n        });\n    }\n\n  }","import { Pipe, PipeTransform } from '@angular/core';\nimport { LovVals } from '../models/lovvals.model';\n\n\n@Pipe({\n  name: 'fetchLovDesc',\n  pure: false\n})\nexport class FetchLovDescPipe implements PipeTransform {\n    transform(allValues: LovVals[], value: string):string {\n        let lovValue:LovVals = allValues.find(lov => lov.codigo===value);\n        return (lovValue===undefined)?\"\":lovValue.descricao;\n    }\n}\n\n","export class Campo {\r\n\t\r\n\tconstructor(\r\n\t\tpublic table   : string = \"\",\r\n\t\tpublic owner   : string = \"\",\r\n\t\tpublic column  : string = \"\",\r\n\t\tpublic idx     : number = 0,\r\n\t\tpublic type    : number = 0,\r\n\t\tpublic edit    : string = \"\",\r\n\t\tpublic tpos    : number = 0,\r\n\t\tpublic len     : number = 0,\r\n\t\tpublic frIdx   : number = 0,\r\n\t\tpublic prIdx   : number = 0,\r\n\t\tpublic comment : string = \"\",\r\n\t\tpublic alias   : string = \"\"\r\n\t){}\r\n\t\r\n}\r\n","import { Component, Input, OnInit, ViewChildren, QueryList } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Observable } from 'rxjs';\nimport { Campo } from '../models/campo.model';\nimport { ColunasService } from '../services/colunas.service';\nimport { LayoutField } from '../models/layout-field.model';\n\n@Component({\n    selector: 'seleciona-coluna-modal-content', \n    templateUrl: './seleciona-coluna.component.html',\n    styleUrls: ['../extrator-web.component.scss']\n  })\n  export class SelecionaColunaModalComponent implements OnInit{\n    @Input() tabelas:Array<LayoutField> = []; // Include-Remove-Change\n    // text-dropdown\n    \n    actionSelectList$:Observable<Campo[]>; // Include-Remove-Change\n    selectedColumn: Campo = new Campo();\n    selectedTable: LayoutField = new LayoutField(); \n\n    constructor(\n      private colService: ColunasService,\n      public activeModal: NgbActiveModal) {\n        this.actionSelectList$ = this.colService.valores$;\n      }\n\n    get searchTerm() { return this.colService.searchTerm; }\n    set searchTerm(searchTerm: string) { this.colService.searchTerm = searchTerm; }\n\n    onSaveItem(){\n      this.activeModal.close({'result':true,'alias': this.selectedTable, 'column':this.selectedColumn});\n    }\n\n    onSelectTable(selectedTable:LayoutField){\n      this.selectedTable=selectedTable;\n      this.colService.filtrarItems(selectedTable.tabela)\n    }\n\n    onSelectItem(campo:Campo){\n      this.selectedColumn = campo;\n    }\n\n    ngOnInit(): void {\n      this.colService.load(this.tabelas);\n    }\n\n  }","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse,\n  HttpErrorResponse\n} from '@angular/common/http';\n\nimport { throwError, Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { ActivatedRoute } from '@angular/router';\nimport { release } from '../../environments/release';\n//import { JwtService } from '../services/jwt.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class JwtInterceptor implements HttpInterceptor {\n\n  static SESSION_STORAGE_TOKEN: string = 'auth-token';\n\n  constructor(\n    private route: ActivatedRoute\n    //,private jwtService: JwtService\n  ) {\n    //console.log(\"Usuario: \" + jwtService.getUsername());\n  }\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    request = request.clone({\n      setHeaders: {\n        //Authorization: `Bearer ${this.jwtService.getToken()}`\n        Authorization: `Bearer ${sessionStorage.getItem(JwtInterceptor.SESSION_STORAGE_TOKEN)}`\n      }\n    });\n    return next.handle(request).\n      pipe(\n        tap((event: HttpEvent<any>) => {\n          if (event instanceof HttpResponse) {\n            this.log('HttpResponse', `${release.projectName}: request realizado=${event.status}/${event.statusText}`);\n          }\n        }, error => {\n          console.log(`Could not handle request: ${JSON.stringify(error)}`);\n          this.logError('HttpResponse', error)\n        })\n      )\n  }\n\n\n  private log<T>(operation: string, result: T) {\n    //console.log(`Carga de configurações realizada: ${operation} `);\n\n    return result;\n  }\n\n  private logError(operation: string, result: HttpErrorResponse) {\n    // TODO: send the error to remote logging infrastructure\n    if (result.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', result.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.error(\n        `Backend returned code ${result.status}, ` +\n        `body was: ${result.error}`);\n    }\n\n    console.log(`${operation} failed: ${result.message}`);\n\n    // Let the app keep running by returning an empty result.\n    //return of(result as T);\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n}\n","import { Injectable, Inject, InjectionToken } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse,\n  HttpErrorResponse\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { ActivatedRoute } from '@angular/router';\nimport { IAppConfig } from './project.config.resolver';\nimport { timeout, tap } from 'rxjs/operators';\nimport { release } from '../../environments/release';\n\nexport const DEFAULT_TIMEOUT = new InjectionToken<number>('defaultTimeout');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PackageUrlInterceptor implements HttpInterceptor {\n  private envConfig: IAppConfig;\n\n  constructor(private route: ActivatedRoute, @Inject(DEFAULT_TIMEOUT) protected defaultTimeout: number) {\n    this.envConfig = environment;\n  }\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const timeoutValue = request.headers.get('timeout') || this.envConfig.timeout || this.defaultTimeout;\n    const timeoutValueNumeric = Number(timeoutValue);\n    \n    if (request.url.indexOf(environment.localeFileType) === -1 && request.url.indexOf(environment.configFileURL) === -1) {\n      let clone = request.clone({\n        url: this.envConfig.extratorEndpoint + request.url\n      });\n      \n      return next.handle(clone).\n        pipe(\n          timeout(timeoutValueNumeric),\n          tap((event: HttpEvent<any>) => {\n            if (event instanceof HttpResponse) {\n              this.log('HttpResponse', `${release.projectName}: request realizado=${event.status}/${event.statusText}`);\n            }\n          }, error => {\n            console.log(`Could not handle request: ${JSON.stringify(error)}`);\n            this.logError('HttpResponse', error)\n          })\n        \n        \n        /*retryWhen(errors =>\n          errors.pipe(\n            delayWhen(val => timer(val * 1000))\n          )\n        ),\n        take(2),\n        concat(throwError('Error during request!')),\n        share()*/\n      );\n      /*\n      .pipe(\n        timeout(this.envConfig.timeout || this.defaultTimeout),\n        retryWhen(errors =>\n          errors.pipe(\n            delayWhen(val => timer(val * 1000))\n          )\n        ),\n        take(2),\n        concat(throwError('This is an error!')),\n        share()\n      );\n      */\n    }\n    return next.handle(request).pipe(\n      timeout(this.envConfig.timeout || this.defaultTimeout)\n    );\n  }\n\n  private log<T>(operation: string, result: T) {\n    //console.log(`Carga de configurações realizada: ${operation} `);\n\n    return result;\n  }\n\n  private logError(operation: string, result: HttpErrorResponse) {\n    // TODO: send the error to remote logging infrastructure\n    if (result.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', result.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.error(\n        `Backend returned code ${result.status}, ` +\n        `body was: ${result.error}`);\n    }\n\n    console.log(`${operation} failed: ${result.message}`);\n\n    // Let the app keep running by returning an empty result.\n    //return of(result as T);\n    return throwError(\n      'Something bad happened; please try again later.');\n  }\n}\n","/* \"Barrel\" of Http Interceptors */\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\n\nimport { JwtInterceptor } from './jwt.interceptor';\nimport { PackageUrlInterceptor, DEFAULT_TIMEOUT } from './package-url.interceptor';\n\n/** Http interceptor providers in outside-in order */\nexport const PPWInterceptorProviders = [\n  { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\n  { provide: HTTP_INTERCEPTORS, useClass: PackageUrlInterceptor, multi: true},\n  { provide: DEFAULT_TIMEOUT, useValue: 60000 }\n];","import { NgModule } from '@angular/core';\n//import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { ExtratorWebComponent } from './extrator-web.component';\nimport { ArquivoExtracaoListComponent } from './list/arquivo-extracao-list.component';\nimport { ArquivoExtracaoEditComponent } from './editor/arquivo-extracao-edit.component';\nimport { PreviaArquivoExtracaoComponent } from './previa/previa-arquivo-extracao.component';\n\nimport { NgbdSortableHeader } from './directives/sortable.directive';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClient, HttpClientModule, HTTP_INTERCEPTORS, HttpClientXsrfModule } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ToastrModule } from 'ngx-toastr';\nimport { TranslateModule, MissingTranslationHandler, TranslateLoader } from '@ngx-translate/core';\nimport { ExtratorWebRoutingModule } from './extrator-web-routing.module';\nimport { PPWMissingTranslationHandler } from './util/missingTranslationHandler';\nimport { HttpErrorHandler } from './services/http-error-handler.service';\nimport { LayoutsService } from './services/layouts.service';\nimport { PreviaService } from './services/previa.service';\nimport { LovValsService } from './services/lovvals.service';\nimport { TabelasService } from './services/tabelas.service';\nimport { PDFService } from './services/pdf.service';\n\nimport { SelecionaTabelaModalContent } from './popups/seleciona-tabela.component';\nimport { ConfirmacaoItemModalContent } from './popups/confirmacao-item.component';\nimport { ConfirmationModalContent } from './popups/confirmacao-acao.component';\nimport { SortDetailModalContent } from './popups/sort-detail.component';\nimport { CriterioDetailModalContent } from './popups/criterio-detail.component';\nimport { SelecionaFuncaoModalContent } from './popups/seleciona-funcao.component';\nimport { CampoTabelaModalContent } from './popups/campotabela.component';\nimport { FetchLovDescPipe } from './util/LovItemDescriptionPipe';\nimport { SelecionaColunaModalComponent } from './popups/seleciona-coluna.component';\nimport { ColunasService } from './services/colunas.service';\nimport { environment } from '../environments/environment';\nimport { PPWInterceptorProviders } from './interceptors/ppw.interceptor.provider';\n\n//import { NgppwModule } from 'dist/ppw-components';\n\n//import { JwtService } from './services/jwt.service';\n\n/*export function initializeProjectConfig(appConfig: ProjectConfigService) {\n  const result = () => {\n    return appConfig.load();\n  };\n  return result;\n}*/\n\n// AoT requires an exported function for factories\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, environment.localeUrlFolder, environment.localeFileType);\n}\n\n/********** '@auth0/angular-jwt'\nexport function tokenGetter() {\n  return localStorage.getItem(environment.SESSION_STORAGE_TOKEN);\n}\n*/\n\n@NgModule({\n  declarations: [\n    ExtratorWebComponent,\n    ArquivoExtracaoListComponent,\n    ArquivoExtracaoEditComponent,\n    NgbdSortableHeader,\n    PreviaArquivoExtracaoComponent,\n    SelecionaTabelaModalContent,\n    ConfirmacaoItemModalContent,\n    ConfirmationModalContent,\n    SortDetailModalContent,\n    CriterioDetailModalContent,\n    SelecionaFuncaoModalContent,\n    SelecionaColunaModalComponent,\n    CampoTabelaModalContent,\n    FetchLovDescPipe],\n  imports: [\n    CommonModule,\n    FontAwesomeModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    //DragDropModule,\n    //NgppwModule,\n    /*HttpClientXsrfModule.withOptions({\n\n      cookieName: 'My-Xsrf-Cookie',\n      headerName: 'My-Xsrf-Header',\n    }),*/\n    NgbModule,\n    ToastrModule.forRoot() ,\n    TranslateModule.forChild({\n          missingTranslationHandler: {provide: MissingTranslationHandler, useClass: PPWMissingTranslationHandler},\n          loader: { provide: TranslateLoader, useFactory: HttpLoaderFactory, deps: [HttpClient]},\n            isolate: true\n        }),\n    ExtratorWebRoutingModule\n  ],\n  providers:[ HttpErrorHandler\n    //, JwtService\n    , PPWInterceptorProviders,  LayoutsService, LovValsService, TabelasService,PreviaService, PDFService, ColunasService],\n  bootstrap: [ExtratorWebComponent],\n  entryComponents: [SelecionaTabelaModalContent,ConfirmacaoItemModalContent,ConfirmationModalContent,SortDetailModalContent,CriterioDetailModalContent, SelecionaFuncaoModalContent,CampoTabelaModalContent,SelecionaColunaModalComponent]\n})\nexport class ExtratorWebModule {}"],"names":["of","Injectable","ToastrService","Subject","BehaviorSubject","tap","debounceTime","switchMap","delay","catchError","finalize","HttpClient","faFileInvoice","Component","NgbActiveModal","Input","faPlus","faPencilAlt","faTrashAlt","faSearch","faSort","faPortrait","faEye","faSync","ModalDismissReasons","ActivatedRoute","Router","NgbModal","TranslateService","HttpHeaders","compare","tslib_1.__spread","matches","fullMatch","validItemB","faEllipsisH","faSortDown","faSortUp","FormGroup","FormControl","Validators","sort","faEllipsisV","faCog","FormBuilder","EventEmitter","Directive","Output","DatePipe","httpOptions","throwError","ViewChildren","faTimes","NgModule","RouterModule","Pipe","HttpResponse","InjectionToken","timeout","Inject","HTTP_INTERCEPTORS","TranslateHttpLoader","CommonModule","FontAwesomeModule","FormsModule","ReactiveFormsModule","HttpClientModule","NgbModule","ToastrModule","TranslateModule","MissingTranslationHandler","TranslateLoader"],"mappings":"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"}
